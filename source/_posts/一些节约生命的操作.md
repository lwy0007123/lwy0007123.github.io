---
title: 一些节约生命的操作
date: 2017-08-06 12:49:00
tags: 
- git
- pip
- npm
---

## 前言

你是否感觉 git， pip， npm 之类的工具下载安装奇慢？
因为它们的默认服务器都在国外，那么需要必要的设置才能发挥咱百兆光纤的作用。下面介绍方法:

## pip 的配置

解决方式：使用国内的pypi镜像加速，以阿里源为例。

### 临时使用

以安装numpy为例。

```shell
pip install numpy -i http://mirrors.aliyun.com/pypi/simple/
```

### 修改配置

* Windows

懒一点就打开powershell(不是cmd!)，粘贴下面命令。

```sh
mkdir ~/pip/
echo "[global]
trusted-host =  mirrors.aliyun.com
index-url = http://mirrors.aliyun.com/pypi/simple
" | out-file -encoding ascii ~/pip/pip.ini
```

解释：在用户目录(C:\Users\Username)下新建名为pip的目录，目录下新建文件pip.ini，写入阿里的镜像源配置。P.S 默认输出编码为utf16会导致pip出错，必须指定编码。

* Linux

```sh
mkdir ~/.pip && echo "[global]
trusted-host =  mirrors.aliyun.com
index-url = http://mirrors.aliyun.com/pypi/simple" > ~/.pip/pip.conf
```

欲使用其他源，自行搜索替换。更多配置参数见[官方文档](http://www.pip-installer.org/en/latest/configuration.html)。

## npm 的配置

解决方式：也是替换国内的源，以淘宝源为例。

### 临时使用

以安装Express为例。

```sh
npm --registry=https://registry.npm.taobao.org install express
```

### 方法1 安装cnpm

使用cnpm命令提到npm命令。

```sh
npm install -g cnpm --registry=https://registry.npm.taobao.org
```

### 方法2 修改默认库配置

```sh
npm config set registry https://registry.npm.taobao.org
```

## git 的配置

这个就要代理了。

我安装的lantern，提供两种代理方式： Http(s) 和 Socks5。使用下面命令配置git代理：

```sh
git config --global http.proxy http://127.0.0.1:50219
git config --global https.proxy https://127.0.0.1:50219
```

或者

```sh
git config --global http.proxy socks5://127.0.0.1:50221
git config --global https.proxy socks5://127.0.0.1:50221
```

根据你的代理配置，修改对应部分即可。