<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">
  <link rel="manifest" href="/images/site.webmanifest">
  <meta name="msapplication-config" content="/images/browserconfig.xml">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.cnpmjs.org/css?family=Lato:300,300italic,400,400italic,700,700italic|Inconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://www.findshank.com').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: true,
    comments: {"style":"tabs","active":"livere","storage":true,"lazyload":true,"nav":null,"activeClass":"livere"},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":true,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="åŸæ–‡ï¼šDesign Patterns for Humans è®¾è®¡æ¨¡å¼æ˜¯å¯¹åå¤å‡ºç°çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼›è§£å†³æŸäº›é—®é¢˜çš„æŒ‡å—ã€‚å®ƒä»¬ä¸æ˜¯åƒé­”æ³•ä¸€æ ·çš„ç±»ã€åŒ…æˆ–è€…åº“ã€‚è¿™ä¸ªæŒ‡å—è¯´çš„æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¦‚ä½•è§£å†³æŸäº›é—®é¢˜ã€‚">
<meta name="keywords" content="translation,design pattern">
<meta property="og:type" content="article">
<meta property="og:title" content="é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰">
<meta property="og:url" content="https://www.findshank.com/2020/04/23/é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰/index.html">
<meta property="og:site_name" content="Shank&#39;s Notes">
<meta property="og:description" content="åŸæ–‡ï¼šDesign Patterns for Humans è®¾è®¡æ¨¡å¼æ˜¯å¯¹åå¤å‡ºç°çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼›è§£å†³æŸäº›é—®é¢˜çš„æŒ‡å—ã€‚å®ƒä»¬ä¸æ˜¯åƒé­”æ³•ä¸€æ ·çš„ç±»ã€åŒ…æˆ–è€…åº“ã€‚è¿™ä¸ªæŒ‡å—è¯´çš„æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¦‚ä½•è§£å†³æŸäº›é—®é¢˜ã€‚">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://www.findshank.com/2020/04/23/é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰/33b7aea0-f515-11e6-983f-98823c9845ee.png">
<meta property="og:updated_time" content="2020-04-29T11:58:04.487Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰">
<meta name="twitter:description" content="åŸæ–‡ï¼šDesign Patterns for Humans è®¾è®¡æ¨¡å¼æ˜¯å¯¹åå¤å‡ºç°çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼›è§£å†³æŸäº›é—®é¢˜çš„æŒ‡å—ã€‚å®ƒä»¬ä¸æ˜¯åƒé­”æ³•ä¸€æ ·çš„ç±»ã€åŒ…æˆ–è€…åº“ã€‚è¿™ä¸ªæŒ‡å—è¯´çš„æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¦‚ä½•è§£å†³æŸäº›é—®é¢˜ã€‚">
<meta name="twitter:image" content="https://www.findshank.com/2020/04/23/é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰/33b7aea0-f515-11e6-983f-98823c9845ee.png">

<link rel="canonical" href="https://www.findshank.com/2020/04/23/é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰ | Shank's Notes</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-128359433-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-128359433-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shank's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Code & Tech & Life</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.findshank.com/2020/04/23/é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="sko00o">
      <meta itemprop="description" content="Nothing or Anything">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shank's Notes">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰<a href="https://github.com/sko00o/sko00o.github.io/edit/hexo/source/_posts/é€šä¿—è®¾è®¡æ¨¡å¼ï¼ˆè¯‘ï¼‰.md" class="post-edit-link" title="Edit this post" rel="noopener" target="_blank"><i class="fa fa-pencil"></i></a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-23 20:43:42" itemprop="dateCreated datePublished" datetime="2020-04-23T20:43:42+08:00">2020-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-29 19:58:04" itemprop="dateModified" datetime="2020-04-29T19:58:04+08:00">2020-04-29</time>
              </span>

          
            <span class="post-meta-item" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-users"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="firestore-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a href="https://roadmap.sh/guides/design-patterns-for-humans" target="_blank" rel="noopener">åŸæ–‡ï¼šDesign Patterns for Humans</a></p>
<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹åå¤å‡ºç°çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼›<em>è§£å†³æŸäº›é—®é¢˜çš„æŒ‡å—</em>ã€‚å®ƒä»¬ä¸æ˜¯åƒé­”æ³•ä¸€æ ·çš„ç±»ã€åŒ…æˆ–è€…åº“ã€‚è¿™ä¸ªæŒ‡å—è¯´çš„æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¦‚ä½•è§£å†³æŸäº›é—®é¢˜ã€‚</p>
<a id="more"></a>
<blockquote>
<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹åå¤å‡ºç°çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚å¦‚ä½•è§£å†³æŸäº›é—®é¢˜çš„æŒ‡å—ã€‚</p>
</blockquote>
<p>ç»´åŸºç™¾ç§‘çš„æè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œè½¯ä»¶è®¾è®¡æ¨¡å¼æ˜¯å¯¹è½¯ä»¶è®¾è®¡ä¸­ç»™å®šä¸Šä¸‹æ–‡ä¸­å¸¸è§é—®é¢˜çš„é€šç”¨å¯é‡ç”¨è§£å†³æ–¹æ¡ˆã€‚å®ƒä¸æ˜¯å¯ä»¥ç›´æ¥è½¬æ¢ä¸ºæºä»£ç æˆ–æœºå™¨ç çš„æœ€ç»ˆè®¾è®¡ã€‚å®ƒæ˜¯ä¸€ç§æè¿°æˆ–æ¨¡æ¿ï¼Œç”¨äºåœ¨è®¸å¤šä¸åŒæƒ…å†µä¸‹è§£å†³é—®é¢˜ã€‚</p>
</blockquote>
<h2 id="å°å¿ƒ"><a href="#å°å¿ƒ" class="headerlink" title="å°å¿ƒ"></a>å°å¿ƒ</h2><p>å¼€å‘äººå‘˜ï¼ˆå¤§å¤šæ˜¯åˆå­¦è€…ï¼‰çŠ¯äº†è¿‡åˆ†æ€è€ƒå’Œå¼ºåŠ è®¾è®¡æ¨¡å¼çš„é”™è¯¯ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç¾éš¾ã€‚ç»éªŒæ³•åˆ™æ˜¯ä½¿ä»£ç åº“å°½å¯èƒ½ç®€å•ï¼Œå½“ä½ å¼€å‘ä¸­èƒ½åœ¨ä»£ç åº“ä¸­çœ‹åˆ°é‡å¤æ¨¡å¼æ—¶ï¼Œå†æ‰§è¡Œç›¸å…³è®¾è®¡æ¨¡å¼ã€‚</p>
<ul>
<li>è®¾è®¡æ¨¡å¼ä¸æ˜¯é“¶å¼¹ï¼ˆè¯‘æ³¨ï¼šé“¶å¼¹æŒ‡çš„æ˜¯ä¸‡èƒ½å·¥å…·ï¼‰ã€‚</li>
<li>ä¸è¦å¼ºè¡Œä½¿ç”¨ï¼Œä¸ç„¶æœ‰å¥½æœå­åƒã€‚</li>
<li>è¯·è®°ä½ï¼Œè®¾è®¡æ¨¡å¼æ˜¯<em>è§£å†³</em>é—®é¢˜çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯<em>å‘ç°</em>é—®é¢˜çš„æ–¹æ¡ˆï¼Œä¸è¦æƒ³å¤ªå¤šã€‚</li>
<li>ç”¨å¾—å¯¹æ—¶è¢«ç§°ä¸ºæ•‘æ˜Ÿï¼Œä¸ç„¶å°±æ˜¯ä»£ç æ··ä¹±ã€‚</li>
</ul>
<blockquote>
<p>è™½ç„¶ä»£ç ç¤ºä¾‹ç”¨ PHP-7 ç¼–å†™ï¼Œä½†ä¸æ¯«ä¸å½±å“ä½ ç†è§£æ¦‚å¿µã€‚</p>
</blockquote>
<h2 id="è®¾è®¡æ¨¡å¼çš„ç±»å‹"><a href="#è®¾è®¡æ¨¡å¼çš„ç±»å‹" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„ç±»å‹"></a>è®¾è®¡æ¨¡å¼çš„ç±»å‹</h2><p>æœ¬æŒ‡å—å‚è€ƒ Gang of Four (Gof) çš„<a href="https://en.wikipedia.org/wiki/Design_Patterns" target="_blank" rel="noopener">ã€Šè®¾è®¡æ¨¡å¼ã€‹</a>ä¸€ä¹¦ã€‚ä¹¦ä¸­å°†è®¾è®¡æ¨¡å¼åˆ†æˆ 3 ç±»ï¼š</p>
<ul>
<li><a href="#åˆ›å»ºå‹æ¨¡å¼">Creational åˆ›å»ºå‹æ¨¡å¼</a></li>
<li><a href="#ç»“æ„å‹æ¨¡å¼">Structural ç»“æ„å‹æ¨¡å¼</a></li>
<li><a href="#è¡Œä¸ºå‹æ¨¡å¼">Behavioral è¡Œä¸ºå‹æ¨¡å¼</a></li>
</ul>
<h2 id="åˆ›å»ºå‹æ¨¡å¼"><a href="#åˆ›å»ºå‹æ¨¡å¼" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼"></a>åˆ›å»ºå‹æ¨¡å¼</h2><p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>åˆ›å»ºå‹æ¨¡å¼å…³æ³¨å¦‚ä½•å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ç»„å¯¹è±¡ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œåˆ›å»ºå‹æ¨¡å¼æ˜¯å¤„ç†å¯¹è±¡åˆ›å»ºæœºåˆ¶çš„è®¾è®¡æ¨¡å¼ï¼Œå°è¯•ä»¥é€‚åˆçš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚å¯¹è±¡åˆ›å»ºçš„åŸºæœ¬å½¢å¼å¯èƒ½ä¼šå¯¼è‡´è®¾è®¡é—®é¢˜æˆ–è€…å¢åŠ è®¾è®¡çš„å¤æ‚æ€§ã€‚åˆ›å»ºå‹æ¨¡å¼é€šè¿‡æŸç§æ–¹æ³•æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºæ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>
</blockquote>
<p>è¿™é‡Œåˆ—å‡º 6 ç§åˆ›å»ºå‹æ¨¡å¼ï¼š</p>
<ul>
<li><a href="#ğŸ -ç®€å•å·¥å‚">Simple Factory ç®€å•å·¥å‚</a> </li>
<li><a href="#ğŸ­-å·¥å‚æ–¹æ³•">Factory Method å·¥å‚æ–¹æ³•</a> </li>
<li><a href="#ğŸ”¨-æŠ½è±¡å·¥å‚">Abstract Factory æŠ½è±¡å·¥å‚</a> </li>
<li><a href="#ğŸ‘·-ç”Ÿæˆå™¨">Builder ç”Ÿæˆå™¨</a> </li>
<li><a href="#ğŸ‘-åŸå‹">Prototype åŸå‹</a> </li>
<li><a href="#ğŸ’-å•ä¾‹">Singleton å•ä¾‹</a> </li>
</ul>
<h3 id="ğŸ -ç®€å•å·¥å‚"><a href="#ğŸ -ç®€å•å·¥å‚" class="headerlink" title="ğŸ  ç®€å•å·¥å‚"></a>ğŸ  ç®€å•å·¥å‚</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>è€ƒè™‘ä¸€ä¸‹ï¼Œä½ åœ¨ç›–æˆ¿å­ï¼Œéœ€è¦é—¨ã€‚ä½ å¯ä»¥ç©¿ä¸Šæœ¨åŒ è¡£æœï¼Œå¸¦ä¸Šæœ¨å¤´ã€èƒ¶æ°´ã€é’‰å­å’Œæ‰€æœ‰å¿…è¦çš„å·¥å…·ï¼Œç„¶åå¼€å§‹åœ¨æˆ¿å­é‡Œé€ é—¨ã€‚æˆ–è€…ä½ åªè¦æ‰“ä¸ªç”µè¯ç»™å·¥å‚ï¼Œè®©ä»–ä»¬æŠŠé€ å¥½çš„é—¨ç»™ä½ ï¼Œè¿™æ ·ä½ å°±ä¸éœ€è¦äº†è§£ä»»ä½•é€ é—¨çš„é¢å¤–çŸ¥è¯†äº†ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>ç®€å•å·¥å‚åªéœ€è¦ä¸ºä½¿ç”¨è€…ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¸éœ€è¦ä¸ºä½¿ç”¨è€…å…¬å¼€ä»»ä½•å®ä¾‹åŒ–çš„é€»è¾‘ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ä¸­ï¼Œå·¥å‚æ˜¯ç”¨äºåˆ›å»ºå…¶ä»–å¯¹è±¡çš„å¯¹è±¡ â€”â€” æ­£å¼è¯´æ³•æ˜¯ï¼Œå·¥å‚æ˜¯ä¸€ç§å‡½æ•°æˆ–æ–¹æ³•ï¼Œå®ƒä»æŸä¸ªæ–¹æ³•ï¼ˆå‡å®šä¸º â€œnewâ€ï¼‰è°ƒç”¨å¹¶è¿”å›ä¸åŒåŸå‹æˆ–ç±»çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>é¦–å…ˆæ˜¯é—¨çš„æ¥å£å’Œå…¶å®ç°ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getWidth</span><span class="params">()</span>: <span class="title">float</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHeight</span><span class="params">()</span>: <span class="title">float</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WoodenDoor</span> <span class="keyword">implements</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $width;</span><br><span class="line">    <span class="keyword">protected</span> $height;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(float $width, float $height)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;width = $width;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;height = $height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getWidth</span><span class="params">()</span>: <span class="title">float</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;width;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHeight</span><span class="params">()</span>: <span class="title">float</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬æœ‰ä¸ªé—¨å·¥å‚æ¥åˆ¶é€ é—¨å¹¶è¿”å›å®ƒï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoorFactory</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">makeDoor</span><span class="params">($width, $height)</span>: <span class="title">Door</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WoodenDoor($width, $height);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥è¿™æ ·ç”¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»™æˆ‘é€ ä¸€æ‰‡ 100*200 å°ºå¯¸çš„é—¨</span></span><br><span class="line">$door = DoorFactory::makeDoor(<span class="number">100</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'Width: '</span> . $door-&gt;getWidth();</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'Height: '</span> . $door-&gt;getHeight();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™æˆ‘é€ ä¸€æ‰‡ 50*100 å°ºå¯¸çš„é—¨</span></span><br><span class="line">$door2 = DoorFactory::makeDoor(<span class="number">50</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<p><strong>å•¥æ—¶å€™ç”¨å‘¢ï¼Ÿ</strong></p>
<p>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¸ä»…è¦å¤åˆ¶ï¼Œè¿˜è¦æ‰§è¡Œä¸€äº›é€»è¾‘æ“ä½œï¼Œè¿™äº›ä»£ç æ”¾åˆ°ä¸“é—¨çš„â€œå·¥å‚â€é‡Œç›¸æ¯”å››å¤„å¤åˆ¶ç²˜è´´ç›¸åŒä»£ç æ˜¯æ›´æœ‰æ„ä¹‰çš„ã€‚</p>
<h3 id="ğŸ­-å·¥å‚æ–¹æ³•"><a href="#ğŸ­-å·¥å‚æ–¹æ³•" class="headerlink" title="ğŸ­ å·¥å‚æ–¹æ³•"></a>ğŸ­ å·¥å‚æ–¹æ³•</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>æ€è€ƒä¸€ä¸ªæ‹›è˜ç»ç†çš„ä¾‹å­ï¼Œä¸€ä¸ªäººä¸å¯èƒ½å¯¹æ¯ä¸ªèŒä½è¿›è¡Œé¢è¯•ã€‚æ ¹æ®èŒä½ç©ºç¼ºï¼Œå¥¹å¿…é¡»å†³å®šé¢è¯•æ­¥éª¤ç„¶åå°†å…¶å§”æ‰˜ç»™å…¶ä»–äººã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å®ƒæä¾›äº†ä¸€ç§å°†å®ä¾‹åŒ–é€»è¾‘å§”æ‰˜ç»™å­ç±»çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åŸºäºç±»çš„ç¼–ç¨‹ä¸­ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä½¿ç”¨å·¥å‚æ–¹æ³•æ¥å¤„ç†åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼Œè€Œä¸å¿…æŒ‡å®šå°†è¦åˆ›å»ºå¯¹è±¡çš„ç¡®åˆ‡ç±»ã€‚è¿™æ˜¯é€šè¿‡è°ƒç”¨å·¥å‚æ–¹æ³•åˆ›å»ºå¯¹è±¡æ¥å®Œæˆçš„ã€‚è¯¥æ–¹æ³•åœ¨æ¥å£ä¸­æŒ‡å®šå¹¶ç”±å­ç±»å®ç°ï¼Œæˆ–è€…åœ¨åŸºç±»ä¸­å®ç°ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©ç”±æ´¾ç”Ÿç±»è¦†ç›–ï¼Œè€Œä¸æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°æ¥è¦†ç›–ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>ä»¥æˆ‘ä»¬ä¸Šæ–‡çš„æ‹›è˜ç»ç†ä¸ºä¾‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé¢è¯•å®˜æ¥å£åŠå…¶å®ç°ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Interviewer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">askQuestions</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Developer</span> <span class="keyword">implements</span> <span class="title">Interviewer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">askQuestions</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Asking about design patterns!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommunityExecutive</span> <span class="keyword">implements</span> <span class="title">Interviewer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">askQuestions</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Asking about community building'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å®šä¹‰æ‹›è˜ç»ç†ï¼ˆHiringManagerï¼‰ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HiringManager</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·¥å‚æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">makeInterviewer</span><span class="params">()</span>: <span class="title">Interviewer</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">takeInterview</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $interviewer = <span class="keyword">$this</span>-&gt;makeInterviewer();</span><br><span class="line">        $interviewer-&gt;askQuestions();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œä»»ä½•å­ç±»éƒ½å¯æ‰©å±•å®ƒå¹¶æä¾›æ‰€éœ€è¦çš„é¢è¯•å®˜ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DevelopmentManager</span> <span class="keyword">extends</span> <span class="title">HiringManager</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">makeInterviewer</span><span class="params">()</span>: <span class="title">Interviewer</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Developer();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MarketingManager</span> <span class="keyword">extends</span> <span class="title">HiringManager</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">makeInterviewer</span><span class="params">()</span>: <span class="title">Interviewer</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CommunityExecutive();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ç”¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$devManager = <span class="keyword">new</span> DevelopmentManager();</span><br><span class="line">$devManager-&gt;takeInterview(); <span class="comment">// Output: Asking about design patterns</span></span><br><span class="line"></span><br><span class="line">$marketingManager = <span class="keyword">new</span> MarketingManager();</span><br><span class="line">$marketingManager-&gt;takeInterview(); <span class="comment">// Output: Asking about community building.</span></span><br></pre></td></tr></table></figure>
<p><strong>å•¥æ—¶å€™ç”¨å‘¢ï¼Ÿ</strong></p>
<p>å½“ç±»ä¸­æœ‰ä¸€äº›é€šç”¨å¤„ç†ä½†æ‰€éœ€çš„å­ç±»åœ¨è¿è¡Œæ—¶åŠ¨æ€ç¡®å®šæ—¶å¾ˆæœ‰ç”¨ã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œç”¨æˆ·ä¸çŸ¥é“å®ƒå¯èƒ½éœ€è¦ä»€ä¹ˆç¡®åˆ‡çš„å­ç±»ã€‚</p>
<h3 id="ğŸ”¨-æŠ½è±¡å·¥å‚"><a href="#ğŸ”¨-æŠ½è±¡å·¥å‚" class="headerlink" title="ğŸ”¨ æŠ½è±¡å·¥å‚"></a>ğŸ”¨ æŠ½è±¡å·¥å‚</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>å¯¹ç®€å•å·¥å‚çš„ä¾‹å­æ‰©å±•ä¸€ä¸‹ã€‚æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œ ä½ å¯èƒ½ä»ä¸€å®¶æœ¨é—¨åº—ä¹°åˆ°ä¸€æ‰‡é—¨ï¼Œæˆ–è€…åœ¨é“é—¨åº—ä¹°åˆ°ä¸€æ‰‡é“é—¨ï¼Œæˆ–è€…ç›¸å…³çš„åº—ä¹°åˆ° PVC é—¨ã€‚å¦å¤–ï¼Œä½ å¯èƒ½éœ€è¦å…·æœ‰ä¸åŒä¸“ä¸šæŠ€èƒ½çš„äººæ¥å®‰è£…ä¸åŒçš„é—¨ï¼Œä¾‹å¦‚ï¼Œæœ¨é—¨çš„æœ¨åŒ ï¼Œé“é—¨çš„ç„Šæ¥å·¥ç­‰ã€‚å¦‚ä½ æ‰€è§ï¼Œä»–ä»¬ä¸é—¨ä¹‹é—´å­˜åœ¨ä¾èµ–æ€§ï¼Œæœ¨é—¨éœ€è¦æœ¨åŒ ï¼Œé“é—¨éœ€è¦ç„Šæ¥å·¥ç­‰ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å·¥å‚çš„å·¥å‚ï¼›ä¸€ä¸ªå°†ç›¸å…³æˆ–ä»å±çš„å·¥å‚åˆ†ç»„åœ¨ä¸€èµ·ï¼Œä½†ä¸æŒ‡å®šå…¶å…·ä½“ç±»åˆ«çš„å·¥å‚ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹æ³•æ¥å°è£…ä¸€ç»„å…·æœ‰å…±åŒä¸»é¢˜çš„å•ä¸ªå·¥å‚ï¼Œè€Œæ— éœ€æŒ‡å®šå…¶å…·ä½“ç±»ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>è½¬æ¢ä¸Šé¢é—¨çš„ä¾‹å­ã€‚é¦–å…ˆæ˜¯é—¨çš„æ¥å£åŠå…¶å®ç°ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WoodenDoor</span> <span class="keyword">implements</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'I am a wooden door'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IronDoor</span> <span class="keyword">implements</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'I am an iron door'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬ä¸ºæ¯ç§é—¨é…å¤‡è£…é…ä¸“å®¶ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">DoorFittingExpert</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welder</span> <span class="keyword">implements</span> <span class="title">DoorFittingExpert</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'I can only fit iron doors'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Carpenter</span> <span class="keyword">implements</span> <span class="title">DoorFittingExpert</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'I can only fit wooden doors'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†æŠ½è±¡å·¥å‚ï¼Œå®ƒå°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿåˆ¶é€ ä¸€ç³»åˆ—å¯¹è±¡ï¼Œå³æœ¨é—¨å·¥å‚å°†åˆ›å»ºæœ¨é—¨å’Œæœ¨é—¨è£…é…ä¸“å®¶ï¼Œé“é—¨å·¥å‚å°†åˆ›å»ºé“é—¨å’Œé“é—¨è£…é…ä¸“å®¶ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">DoorFactory</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeDoor</span><span class="params">()</span>: <span class="title">Door</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeFittingExpert</span><span class="params">()</span>: <span class="title">DoorFittingExpert</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ¨é—¨å·¥å‚è¿”å›æœ¨åŒ å’Œæœ¨é—¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WoodenDoorFactory</span> <span class="keyword">implements</span> <span class="title">DoorFactory</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeDoor</span><span class="params">()</span>: <span class="title">Door</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WoodenDoor();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeFittingExpert</span><span class="params">()</span>: <span class="title">DoorFittingExpert</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Carpenter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“é—¨å·¥å‚è¿”å›é“é—¨å’Œç›¸å…³çš„è£…é…ä¸“å®¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IronDoorFactory</span> <span class="keyword">implements</span> <span class="title">DoorFactory</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeDoor</span><span class="params">()</span>: <span class="title">Door</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> IronDoor();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeFittingExpert</span><span class="params">()</span>: <span class="title">DoorFittingExpert</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Welder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€è¿™ä¹ˆç”¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$woodenFactory = <span class="keyword">new</span> WoodenDoorFactory();</span><br><span class="line"></span><br><span class="line">$door = $woodenFactory-&gt;makeDoor();</span><br><span class="line">$expert = $woodenFactory-&gt;makeFittingExpert();</span><br><span class="line"></span><br><span class="line">$door-&gt;getDescription();  <span class="comment">// Output: I am a wooden door</span></span><br><span class="line">$expert-&gt;getDescription(); <span class="comment">// Output: I can only fit wooden doors</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Same for Iron Factory</span></span><br><span class="line">$ironFactory = <span class="keyword">new</span> IronDoorFactory();</span><br><span class="line"></span><br><span class="line">$door = $ironFactory-&gt;makeDoor();</span><br><span class="line">$expert = $ironFactory-&gt;makeFittingExpert();</span><br><span class="line"></span><br><span class="line">$door-&gt;getDescription();  <span class="comment">// Output: I am an iron door</span></span><br><span class="line">$expert-&gt;getDescription(); <span class="comment">// Output: I can only fit iron doors</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œæœ¨é—¨å·¥å‚å·²ç»å°è£…äº†æœ¨åŒ ï¼ˆcarpenterï¼‰å’Œæœ¨é—¨ï¼ˆwooden doorï¼‰ï¼Œé“é—¨å·¥å‚å·²ç»å°è£…äº†é“é—¨ï¼ˆiron doorï¼‰å’Œç„Šæ¥å·¥ï¼ˆwelderï¼‰ã€‚å› æ­¤ï¼Œå®ƒç¡®ä¿æˆ‘ä»¬å¯¹äºæ¯ä¸ªå·²åˆ›å»ºçš„é—¨ä¸ä¼šåŒ¹é…åˆ°é”™è¯¯çš„è£…é…ä¸“å®¶ã€‚</p>
<p><strong>å•¥æ—¶å€™ç”¨å‘¢?</strong></p>
<p>å½“å­˜åœ¨ç›¸äº’å…³è”çš„ä¾èµ–å…³ç³»å¹¶ä¸”æ¶‰åŠåˆ°éç®€å•çš„åˆ›å»ºé€»è¾‘æ—¶ã€‚</p>
<h3 id="ğŸ‘·-ç”Ÿæˆå™¨"><a href="#ğŸ‘·-ç”Ÿæˆå™¨" class="headerlink" title="ğŸ‘· ç”Ÿæˆå™¨"></a>ğŸ‘· ç”Ÿæˆå™¨</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>åŠ å…¥ä½ åœ¨ Hardee åº—é‡Œä¸‹äº†ä¸€ç¬”è®¢å•ï¼Œä»–ä»¬ä¼šæ¯«æ— ç–‘é—®çš„å°†è´§å“äº¤ç»™ä½ ï¼›è¿™æ˜¯ç®€å•å·¥å‚çš„ä¾‹å­ã€‚ä½†æ˜¯æŸäº›æƒ…å†µä¸‹ï¼Œåˆ›å»ºé€»è¾‘å¯èƒ½è®¾è®¡æ›´å¤šçš„æ­¥éª¤ã€‚ä¾‹å¦‚ï¼Œä½ æƒ³è¦å®šåˆ¶èµ›ç™¾å‘³çš„è®¢å•ï¼Œåœ¨æ±‰å ¡çš„åˆ¶ä½œæ–¹å¼ä¸Šæœ‰å¤šç§é€‰æ‹©ï¼Œä¾‹å¦‚ï¼šä½ æƒ³è¦å“ªç§é¢åŒ…ï¼Ÿæƒ³è¦é‚£ç§è°ƒå‘³æ–™ï¼Ÿé‚£ç§å¥¶é…ªï¼Ÿç­‰ç­‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç”Ÿæˆå™¨æ¨¡å¼åº”è¿è€Œç”Ÿã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å…è®¸ä½ åˆ›å»ºå¯¹è±¡çš„ä¸åŒæ ·å¼ï¼ŒåŒæ—¶é¿å…æ„é€ å‡½æ•°æ±¡æŸ“ã€‚å½“ä¸€ä¸ªå¯¹è±¡æœ‰å¤šç§é£æ ¼æ—¶å¾ˆæœ‰ç”¨ï¼Œäº¦æˆ–è€…åˆ›å»ºå¯¹è±¡æ¶‰åŠå¾ˆå¤šæ­¥éª¤æ—¶ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>ç”Ÿæˆå™¨æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡åˆ›å»ºè½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œæ—¨åœ¨ä¸ºä¼¸ç¼©æ„é€ å™¨åæ¨¡å¼æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ä¼¸ç¼©æ„é€ å™¨åæ¨¡å¼ã€‚æœ‰æ—¶æˆ‘ä»¬è§è¿‡ä»¥ä¸‹æ„é€ å‡½æ•°ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($size, $cheese = true, $pepperoni = true, $tomato = false, $lettuce = true)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œæ„é€ å‡½æ•°å‚æ•°çš„æ•°é‡å¾ˆå¿«ä¼šå¤±æ§ï¼Œè¿‡å¤šçš„å‚æ•°çœ‹ç€ä¼šå¾ˆå¤´å¤§ã€‚å¦å¤–ï¼Œå¦‚æœä½ æƒ³æ·»åŠ æ›´å¤šé€‰é¡¹ï¼Œåˆ™æ­¤å‚æ•°åˆ—è¡¨è¿˜ç»§ç»­å¢é•¿ã€‚è¿™å°±æ˜¯ä¼¸ç¼©æ„é€ å‡½æ•°åæ¨¡å¼ã€‚</p>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>æ˜æ™ºçš„åšæ³•æ˜¯ä½¿ç”¨æ„é€ å™¨æ¨¡å¼ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦åšæ±‰å ¡ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Burger</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> $cheese = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">protected</span> $pepperoni = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">protected</span> $lettuce = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">protected</span> $tomato = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(BurgerBuilder $builder)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;size = $builder-&gt;size;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;cheese = $builder-&gt;cheese;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;pepperoni = $builder-&gt;pepperoni;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;lettuce = $builder-&gt;lettuce;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;tomato = $builder-&gt;tomato;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æ˜¯æˆ‘ä»¬çš„ç”Ÿæˆå™¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BurgerBuilder</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> $cheese = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">public</span> $pepperoni = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">public</span> $lettuce = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">public</span> $tomato = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(int $size)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;size = $size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addPepperoni</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;pepperoni = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addLettuce</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;lettuce = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addCheese</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;cheese = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addTomato</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;tomato = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">build</span><span class="params">()</span>: <span class="title">Burger</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Burger(<span class="keyword">$this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¹ˆç”¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$burger = (<span class="keyword">new</span> BurgerBuilder(<span class="number">14</span>))</span><br><span class="line">                    -&gt;addPepperoni()</span><br><span class="line">                    -&gt;addLettuce()</span><br><span class="line">                    -&gt;addTomato()</span><br><span class="line">                    -&gt;build();</span><br></pre></td></tr></table></figure>
<p><strong>å•¥æ—¶å€™ç”¨å‘¢ï¼Ÿ</strong></p>
<p>å½“å¯¹è±¡çš„é…ç½®é¡¹è¿‡å¤šï¼Œä¸ºäº†é¿å…ä¼¸ç¼©æ„é€ å‡½æ•°æ—¶ï¼Œè¿™ä¸å·¥å‚æ¨¡å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼šå½“åˆ›å»ºæ˜¯ä¸€æ­¥è¿‡ç¨‹æ—¶ï¼Œä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œè€Œåˆ›å»ºæ˜¯å¤šæ­¥è¿‡ç¨‹æ˜¯ï¼Œå°†ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼ã€‚</p>
<h3 id="ğŸ‘-åŸå‹"><a href="#ğŸ‘-åŸå‹" class="headerlink" title="ğŸ‘ åŸå‹"></a>ğŸ‘ åŸå‹</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>è®°å¾—å¤šåˆ©å—ï¼Ÿé‚£åªå…‹éš†ç¾Šï¼ä¸è°ˆç»†èŠ‚ï¼Œå…³é”®æ˜¯å…‹éš†ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>é€šè¿‡å…‹éš†åŸºäºç°æœ‰å¯¹è±¡åˆ›å»ºå¯¹è±¡ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åŸå‹æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ç§åˆ›å»ºå‹æ¨¡å¼ã€‚å½“è¦åˆ›å»ºçš„å¯¹è±¡ç”±åŸå‹ç¤ºä¾‹ç¡®å®šæ—¶ä½¿ç”¨ï¼Œè¯¥å®ä¾‹è¢«å…‹éš†ä»¥ç”Ÿæˆæ–°å¯¹è±¡ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå®ƒä½¿ä½ å¯ä»¥åˆ›å»ºç°æœ‰å¯¹è±¡çš„å‰¯æœ¬å¹¶æ ¹æ®éœ€è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸å¿…éº»çƒ¦ä»å¤´å¼€å§‹åˆ›å»ºå¯¹è±¡å¹¶è®¾ç½®ã€‚</p>
<p><strong>ç¨‹åºå®ä¾‹</strong></p>
<p>åœ¨ PHP ä¸­ï¼Œç”¨ <code>clone</code> å¾ˆå®¹æ˜“åšåˆ°ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sheep</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $name;</span><br><span class="line">    <span class="keyword">protected</span> $category;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $name, string $category = <span class="string">'Mountain Sheep'</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;category = $category;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setName</span><span class="params">(string $name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setCategory</span><span class="params">(string $category)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;category = $category;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getCategory</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;category;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…‹éš†æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$original = <span class="keyword">new</span> Sheep(<span class="string">'Jolly'</span>);</span><br><span class="line"><span class="keyword">echo</span> $original-&gt;getName(); <span class="comment">// Jolly</span></span><br><span class="line"><span class="keyword">echo</span> $original-&gt;getCategory(); <span class="comment">// Mountain Sheep</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Clone and modify what is required</span></span><br><span class="line">$cloned = <span class="keyword">clone</span> $original;</span><br><span class="line">$cloned-&gt;setName(<span class="string">'Dolly'</span>);</span><br><span class="line"><span class="keyword">echo</span> $cloned-&gt;getName(); <span class="comment">// Dolly</span></span><br><span class="line"><span class="keyword">echo</span> $cloned-&gt;getCategory(); <span class="comment">// Mountain sheep</span></span><br></pre></td></tr></table></figure>
<p>ä½ è¿˜å¯ä»¥ä½¿ç”¨é­”æ³•æ–¹æ³• <code>__clone</code> æ–¹æ³•ä¿®æ”¹å…‹éš†è¡Œä¸ºã€‚</p>
<p><strong>å•¥æ—¶å€™ç”¨å‘¢ï¼Ÿ</strong></p>
<p>å½“éœ€è¦ä¸€ä¸ªä¸ç°æœ‰å¯¹è±¡ç›¸ä¼¼çš„å¯¹è±¡æ—¶ï¼Œæˆ–è€…ä¸å…‹éš†ç›¸æ¯”åˆ›å»ºæˆæœ¬å¾ˆé«˜ã€‚</p>
<h3 id="ğŸ’-å•ä¾‹"><a href="#ğŸ’-å•ä¾‹" class="headerlink" title="ğŸ’ å•ä¾‹"></a>ğŸ’ å•ä¾‹</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>ä¸€ä¸ªå›½å®¶ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä½æ€»ç»Ÿã€‚æ¯æ¬¡æ¥å¬å€¼ç­ç”µè¯çš„éƒ½æ˜¯åŒä¸€ä½æ€»ç»Ÿã€‚æ€»ç»Ÿåœ¨è¿™é‡Œå°±æ˜¯å•ä¾‹ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>ç¡®ä¿ä»…åˆ›å»ºç‰¹å®šç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œå•ä¾‹æ¨¡å¼æ—¶ä¸€ç§å°†ç±»çš„å®ä¾‹åŒ–é™åˆ¶ä¸ºä¸€ä¸ªå¯¹è±¡çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚å½“ä»…éœ€è¦ä¸€ä¸ªå¯¹è±¡æ¥åè°ƒæ•´ä¸ªç³»ç»Ÿä¸­çš„åŠ¨ä½œæ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚</p>
</blockquote>
<p>å•ä¾‹æ¨¡å¼å®é™…ä¸Šè¢«è®¤ä¸ºæ˜¯åæ¨¡å¼ï¼Œåº”é¿å…è¿‡åº¦ä½¿ç”¨å®ƒã€‚å®ƒä¸ä¸€å®šæ˜¯åçš„ï¼Œå¹¶ä¸”å¯èƒ½æœ‰ä¸€äº›æœ‰æ•ˆçš„ä½¿ç”¨åœºæ™¯ä½†æ˜¯åº”è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¼šåœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å¼•å…¥å…¨å±€çŠ¶æ€ï¼Œå¹¶ä¸”åœ¨åŒä¸€ä¸ªä½ç½®è¿›è¡Œæ›´æ”¹å¯èƒ½ä¼šå½±å“å…¶ä»–åŒºåŸŸï¼Œè¿™è®©è°ƒè¯•å˜å¾—éå¸¸å›°éš¾ã€‚å…³äºå®ƒä»¬çš„å¦ä¸€ä¸ªä¸å¥½çš„åœ°æ–¹æ˜¯ï¼Œå®ƒä¼šä½¿ä½ çš„ä»£ç é«˜è€¦åˆï¼Œéš¾ä»¥æ¨¡æ‹Ÿå•ä¾‹ã€‚</p>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>è¦åˆ›å»ºå•ä¾‹ï¼Œè¯·å°†æ„é€ å‡½æ•°è®¾ä¸ºç§æœ‰ï¼Œç¦ç”¨å…‹éš†ï¼Œç¦ç”¨æ‰©å±•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé™æ€å˜é‡æ¥å®¹çº³å®ä¾‹ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">President</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> $instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Hide the constructor</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span><span class="params">()</span>: <span class="title">President</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">self</span>::$instance) &#123;</span><br><span class="line">            <span class="keyword">self</span>::$instance = <span class="keyword">new</span> <span class="keyword">self</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>::$instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">__clone</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Disable cloning</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Disable unserialize</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æ˜¯ä½¿ç”¨ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$president1 = President::getInstance();</span><br><span class="line">$president2 = President::getInstance();</span><br><span class="line"></span><br><span class="line">var_dump($president1 === $president2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="ç»“æ„å‹æ¨¡å¼"><a href="#ç»“æ„å‹æ¨¡å¼" class="headerlink" title="ç»“æ„å‹æ¨¡å¼"></a>ç»“æ„å‹æ¨¡å¼</h2><p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>ç»“æ„æ¨¡å¼ä¸»è¦ä¸å¯¹è±¡ç»„æˆæœ‰å…³ï¼Œæ¢å¥è¯è¯´ï¼Œå®ä½“å¦‚ä½•äº’ç›¸åˆ©ç”¨ã€‚æˆ–è€…è¿˜æœ‰å¦ä¸€ç§è§£é‡Šï¼Œå®ƒä»¬æœ‰åŠ©äºå›ç­”â€œå¦‚ä½•æ„å»ºè½¯ä»¶ç»„ä»¶ï¼Ÿâ€ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œç»“æ„å‹æ¨¡å¼æ˜¯é€šè¿‡è¯†åˆ«å®ä½“é—´çš„ç®€å•æ–¹æ³•æ¥ç®€åŒ–è®¾è®¡çš„è®¾è®¡æ¨¡å¼ã€‚</p>
</blockquote>
<p>è¿™æœ‰ 7 ç§ç»“æ„æ¨¡å¼ï¼š</p>
<ul>
<li><a href="#ğŸ”Œ-é€‚é…å™¨">Adapter é€‚é…å™¨</a></li>
<li><a href="#ğŸš¡-æ¡¥æ¥">Bridge æ¡¥æ¥</a></li>
<li><a href="#ğŸŒ¿-ç»„åˆ">Composite ç»„åˆ</a></li>
<li><a href="#â˜•-è£…é¥°å™¨">Decorator è£…é¥°å™¨</a></li>
<li><a href="#ğŸ“¦-å¤–è§‚æ¨¡å¼">Facade å¤–è§‚</a></li>
<li><a href="#ğŸƒ-äº«å…ƒ">Flyweight äº«å…ƒ</a></li>
<li><a href="#ğŸ±-ä»£ç†">Proxy ä»£ç†</a></li>
</ul>
<h3 id="ğŸ”Œ-é€‚é…å™¨"><a href="#ğŸ”Œ-é€‚é…å™¨" class="headerlink" title="ğŸ”Œ é€‚é…å™¨"></a>ğŸ”Œ é€‚é…å™¨</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>åœ¨ä½ çš„å­˜å‚¨å¡ä¸­æœ‰ä¸€äº›ç…§ç‰‡ï¼Œéœ€è¦å°†å®ƒä»¬ä¼ è¾“åˆ°è®¡ç®—æœºä¸Šã€‚ä¸ºäº†ä¼ è¾“å®ƒä»¬ï¼Œä½ éœ€è¦æŸç§å’Œè®¡ç®—æœºç«¯å£å…¼å®¹çš„é€‚é…å™¨ï¼Œä»¥ä¾¿å°†å­˜å‚¨å¡è¿æ¥åˆ°è®¡ç®—æœºã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¯»å¡å™¨å°±æ˜¯é€‚é…å™¨ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯è‘—åçš„ç”µæºé€‚é…å™¨ï¼Œä¸‰è„šæ’å¤´ä¸èƒ½è¿æ¥åˆ°ä¸¤è„šæ’åº§ï¼Œéœ€è¦ä½¿ç”¨ç”µæºé€‚é…å™¨ï¼Œä½¿å…¶ä¸ä¸¤è„šæ’åº§å…¼å®¹ã€‚è¿˜æœ‰ä¸ªä¾‹å­æ˜¯ç¿»è¯‘å‘˜å°†ä¸€ä¸ªäººè¯´çš„è¯ç¿»è¯‘ç»™å¦ä¸€ä¸ªäººã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>é€‚é…å™¨æ¨¡å¼æ˜¯ä½ å¯ä»¥å°†å…¶ä»–ä¸å…¼å®¹çš„å¯¹è±¡åŒ…è£…åˆ°é€‚é…å™¨ä¸­ï¼Œä»¥ä½¿å…¶ä¸å¦ä¸€ä¸ªç±»å…¼å®¹ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œé€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ç°æœ‰ç±»çš„æ¥å£ç”¨ä½œå¦ä¸€ä¸ªæ¥å£ã€‚å®ƒé€šå¸¸ç”¨äºå°†ç°æœ‰ç±»å’Œå…¶ä»–ç±»ä¸€èµ·ä½¿ç”¨è€Œæ— éœ€ä¿®æ”¹å…¶æºä»£ç ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>æ€è€ƒä¸€ä¸ªçŒäººç‹©çŒç‹®å­çš„æ¸¸æˆã€‚é¦–å…ˆæˆ‘ä»¬æœ‰ä¸€ä¸ª <code>Lion</code> æ¥å£ï¼Œæ‰€æœ‰ç±»å‹çš„ç‹®å­éƒ½å¿…é¡»å®ç°ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lion</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">roar</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AfricanLion</span> <span class="keyword">implements</span> <span class="title">Lion</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">roar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AsianLion</span> <span class="keyword">implements</span> <span class="title">Lion</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">roar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>çŒäººä½¿ç”¨ <code>Lion</code> æ¥å£çš„ä»»ä½•å®ç°éƒ½å¯ä»¥è¿›è¡Œç‹©çŒã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hunter</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">hunt</span><span class="params">(Lion $lion)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $lion-&gt;roar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å‡è®¾æˆ‘ä»¬å¿…é¡»åœ¨æ¸¸æˆä¸­æ·»åŠ  WildDog ï¼ˆé‡ç‹—ï¼‰ï¼Œä»¥ä¾¿çŒäººå¯¹å…¶ç‹©çŒã€‚ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ç›´æ¥è¿™æ ·åšï¼Œå› ä¸ºç‹—å…·æœ‰ä¸åŒçš„æ¥å£ã€‚ä¸ºäº†ä½¿å…¶ä¸æˆ‘ä»¬çš„çŒäººå…¼å®¹ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªå…¼å®¹çš„é€‚é…å™¨ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠŠå®ƒæ·»åŠ åˆ°æ¸¸æˆã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WildDog</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bark</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³äºé‡ç‹—çš„é€‚é…å™¨ï¼Œä½¿å…¶ä¸æˆ‘ä»¬çš„æ¸¸æˆå…¼å®¹ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WildDogAdapter</span> <span class="keyword">implements</span> <span class="title">Lion</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $dog;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(WildDog $dog)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;dog = $dog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">roar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;dog-&gt;bark();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å¯ä»¥ä½¿ç”¨ WildDogAdapter åœ¨æˆ‘ä»¬çš„æ¸¸æˆä¸­ä½¿ç”¨ WildDog äº†ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$wildDog = <span class="keyword">new</span> WildDog();</span><br><span class="line">$wildDogAdapter = <span class="keyword">new</span> WildDogAdapter($wildDog);</span><br><span class="line"></span><br><span class="line">$hunter = <span class="keyword">new</span> Hunter();</span><br><span class="line">$hunter-&gt;hunt($wildDogAdapter);</span><br></pre></td></tr></table></figure>
<h3 id="ğŸš¡-æ¡¥æ¥"><a href="#ğŸš¡-æ¡¥æ¥" class="headerlink" title="ğŸš¡ æ¡¥æ¥"></a>ğŸš¡ æ¡¥æ¥</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>è€ƒè™‘ä½ æœ‰ä¸€ä¸ªåŒ…å«ä¸åŒé¡µé¢çš„ç½‘ç«™ï¼Œå¹¶ä¸”å…è®¸ç”¨æˆ·æ›´æ”¹ä¸»é¢˜ã€‚ä½ ä¼šæ€ä¹ˆåšï¼Ÿä¸ºæ¯ä¸ªä¸»é¢˜åˆ›å»ºæ¯ä¸ªé¡µé¢çš„å¤šä¸ªå‰¯æœ¬ï¼Œè¿˜æ˜¯åªåˆ›å»ºå•ç‹¬çš„ä¸»é¢˜ï¼Œæ ¹æ®ç”¨æˆ·çš„å–œå¥½åŠ è½½å®ƒä»¬ï¼Ÿæ¡¥æ¥æ¨¡å¼å…è®¸ä½ æ‰§è¡Œç¬¬äºŒç§æ–¹æ¡ˆã€‚</p>
</blockquote>
<p><img src="33b7aea0-f515-11e6-983f-98823c9845ee.png" alt="Without Bridge"></p>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>æ¡¥æ¥æ¨¡å¼æ˜¯ä¼˜å…ˆäºç»§æ‰¿è€Œä¸æ˜¯ç»§æ‰¿ã€‚å°†å®ç°ç»†èŠ‚ä»å±‚æ¬¡ç»“æ„æ¨é€åˆ°å…·æœ‰å•ç‹¬å±‚æ¬¡ç»“æ„çš„å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>æ¡¥æ¥æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹ä¸­ä½¿ç”¨çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ—¨åœ¨â€œå°†æŠ½è±¡ä¸å…¶å®ç°åˆ†ç¦»ï¼Œä»è€Œä½¿ä¸¤è€…å¯ä»¥ç‹¬ç«‹å˜åŒ–â€ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>è½¬æ¢ä¸Šé¢ WebPage çš„ä¾‹å­ã€‚è¿™æ˜¯ WebPage çš„å±‚æ¬¡ç»“æ„ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">WebPage</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Theme $theme)</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getContent</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">About</span> <span class="keyword">implements</span> <span class="title">WebPage</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $theme;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Theme $theme)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;theme = $theme;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getContent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"About page in "</span> . <span class="keyword">$this</span>-&gt;theme-&gt;getColor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Careers</span> <span class="keyword">implements</span> <span class="title">WebPage</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $theme;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Theme $theme)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;theme = $theme;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getContent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Careers page in "</span> . <span class="keyword">$this</span>-&gt;theme-&gt;getColor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥åŠå•ç‹¬ä¸»é¢˜çš„å±‚æ¬¡ç»“æ„</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Theme</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getColor</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DarkTheme</span> <span class="keyword">implements</span> <span class="title">Theme</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getColor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Dark Black'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LightTheme</span> <span class="keyword">implements</span> <span class="title">Theme</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getColor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Off white'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AquaTheme</span> <span class="keyword">implements</span> <span class="title">Theme</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getColor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Light blue'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¤ä¸ªå±‚æ¬¡çš„ç”¨æ³•</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$darkTheme = <span class="keyword">new</span> DarkTheme();</span><br><span class="line"></span><br><span class="line">$about = <span class="keyword">new</span> About($darkTheme);</span><br><span class="line">$careers = <span class="keyword">new</span> Careers($darkTheme);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $about-&gt;getContent(); <span class="comment">// "About page in Dark Black";</span></span><br><span class="line"><span class="keyword">echo</span> $careers-&gt;getContent(); <span class="comment">// "Careers page in Dark Black";</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸŒ¿-ç»„åˆ"><a href="#ğŸŒ¿-ç»„åˆ" class="headerlink" title="ğŸŒ¿ ç»„åˆ"></a>ğŸŒ¿ ç»„åˆ</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>æ¯ä¸€ä¸ªç»„ç»‡ç”±é›‡å‘˜ç»„æˆã€‚æ¯ä¸ªå—é›‡è€…æœ‰ç›¸åŒåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼Œæœ‰ä¸€ä»½è–ªæ°´ã€ä¸€äº›èŒè´£ã€æ˜¯å¦å‘æŸäººæŠ¥å‘Šã€æ˜¯å¦æœ‰ä¸‹å±ç­‰ç­‰ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>ç»„åˆæ¨¡å¼ä½¿å®¢æˆ·èƒ½å¤Ÿä»¥ç»Ÿä¸€çš„æ–¹å¼å¯¹å¾…å„ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œç»„åˆæ¨¡å¼æ˜¯ä¸€ç§åˆ†åŒºè®¾è®¡æ¨¡å¼ã€‚ç»„åˆæ¨¡å¼å°†ä¸€ç»„å¯¹è±¡å½“æˆä¸€ä¸ªå¯¹è±¡çš„å•ä¸ªå®ä¾‹å¯¹å¾…ã€‚ç»„åˆçš„ç›®çš„æ˜¯å°†å¯¹è±¡â€œç»„æˆâ€æ ‘çŠ¶ç»“æ„ï¼Œä»¥è¡¨ç¤ºæ•´ä¸ªéƒ¨åˆ†çš„å±‚æ¬¡ç»“æ„ã€‚å®ç°ç»„åˆæ¨¡å¼å¯ä»¥ä½¿å®¢æˆ·ç»Ÿä¸€å¯¹å¾…å•ä¸ªå¯¹è±¡å’Œå¤åˆå¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>ä»¥æˆ‘ä»¬çš„é›‡å‘˜ä¸ºä¾‹ã€‚è¿™é‡Œæœ‰ä¸åŒçš„å‘˜å·¥ç±»å‹ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $name, float $salary)</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span>: <span class="title">string</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setSalary</span><span class="params">(float $salary)</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSalary</span><span class="params">()</span>: <span class="title">float</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getRoles</span><span class="params">()</span>: <span class="title">array</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Developer</span> <span class="keyword">implements</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $salary;</span><br><span class="line">    <span class="keyword">protected</span> $name;</span><br><span class="line">    <span class="keyword">protected</span> $roles;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $name, float $salary)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;salary = $salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span>: <span class="title">string</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setSalary</span><span class="params">(float $salary)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;salary = $salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSalary</span><span class="params">()</span>: <span class="title">float</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getRoles</span><span class="params">()</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;roles;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Designer</span> <span class="keyword">implements</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $salary;</span><br><span class="line">    <span class="keyword">protected</span> $name;</span><br><span class="line">    <span class="keyword">protected</span> $roles;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $name, float $salary)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;salary = $salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span>: <span class="title">string</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setSalary</span><span class="params">(float $salary)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;salary = $salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSalary</span><span class="params">()</span>: <span class="title">float</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getRoles</span><span class="params">()</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;roles;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬æœ‰ä¸€ä¸ªç”±å‡ ç§ä¸åŒç±»å‹é›‡å‘˜ç»„æˆçš„ç»„ç»‡ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Organization</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $employees;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addEmployee</span><span class="params">(Employee $employee)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;employees[] = $employee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getNetSalaries</span><span class="params">()</span>: <span class="title">float</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $netSalary = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;employees <span class="keyword">as</span> $employee) &#123;</span><br><span class="line">            $netSalary += $employee-&gt;getSalary();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $netSalary;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€è¿™ä¹ˆç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡†å¤‡å‘˜å·¥</span></span><br><span class="line">$john = <span class="keyword">new</span> Developer(<span class="string">'John Doe'</span>, <span class="number">12000</span>);</span><br><span class="line">$jane = <span class="keyword">new</span> Designer(<span class="string">'Jane Doe'</span>, <span class="number">15000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠä»–ä»¬æ·»åŠ åˆ°ç»„ç»‡</span></span><br><span class="line">$organization = <span class="keyword">new</span> Organization();</span><br><span class="line">$organization-&gt;addEmployee($john);</span><br><span class="line">$organization-&gt;addEmployee($jane);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"Net salaries: "</span> . $organization-&gt;getNetSalaries(); <span class="comment">// Net Salaries: 27000</span></span><br></pre></td></tr></table></figure>
<h3 id="â˜•-è£…é¥°å™¨"><a href="#â˜•-è£…é¥°å™¨" class="headerlink" title="â˜• è£…é¥°å™¨"></a>â˜• è£…é¥°å™¨</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>å‡è®¾ä½ ç»è¥ä¸€å®¶æä¾›å¤šç§æœåŠ¡çš„æ±½è½¦ç»´ä¿®åº—ã€‚ç°åœ¨ï¼Œä½ è¦å¦‚ä½•è®¡ç®—è¦æ”¶å–çš„è´¦å•ï¼Ÿé€‰æ‹©ä¸€é¡¹æœåŠ¡ï¼Œå¹¶åŠ¨æ€åœ°å‘å…¶æ·»åŠ æœåŠ¡å’Œçš„ä»·æ ¼ï¼ŒçŸ¥é“è·å¾—æœ€ç»ˆèŠ±é”€ã€‚è¿™é‡Œçš„æ¯ç§æœåŠ¡éƒ½æ˜¯è£…é¥°å™¨ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>è£…é¥°å™¨æ¨¡å¼ä½¿ä½ å¯ä»¥å°†å¯¹è±¡åŒ…è£…åœ¨è£…é¥°å™¨ç±»çš„å¯¹è±¡ä¸­ï¼Œä»è€Œåœ¨è¿è¡Œæ—¶åŠ¨æ€æ›´æ”¹å¯¹è±¡çš„è¡Œä¸ºã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè£…é¥°å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†è¡Œä¸ºåŠ¨æ€æˆ–é™æ€åœ°æ·»åŠ åˆ°å•ä¸ªå¯¹è±¡ä¸­ï¼Œè€Œä¸å½±å“åŒä¸€ç±»ä¸­å…¶ä»–å¯¹è±¡åœ°è¡Œä¸ºã€‚è£…é¥°å™¨æ¨¡å¼é€šå¸¸å¯ç”¨äºéµå®ˆâ€œå•ä¸€èŒè´£åŸåˆ™â€ï¼Œå› ä¸ºå®ƒå…è®¸åœ¨å…·æœ‰å”¯ä¸€å…³æ³¨åŒºåŸŸçš„ç±»ä¹‹é—´åˆ’åˆ†åŠŸèƒ½ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>ä»¥å’–å•¡ä¸ºä¾‹ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸ªç®€å•çš„ offee çš„æ¥å£åŠå®ç°ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Coffee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getCost</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SimpleCoffee</span> <span class="keyword">implements</span> <span class="title">Coffee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getCost</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Simple coffee'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¸Œæœ›ä½¿ä»£ç å¯æ‰©å±•ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶é€šè¿‡é€‰é¡¹é…ç½®ï¼Œæˆ‘ä»¬ä¸ºå…¶æ·»åŠ è£…é¥°å™¨ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MilkCoffee</span> <span class="keyword">implements</span> <span class="title">Coffee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $coffee;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Coffee $coffee)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;coffee = $coffee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getCost</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;coffee-&gt;getCost() + <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;coffee-&gt;getDescription() . <span class="string">', milk'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WhipCoffee</span> <span class="keyword">implements</span> <span class="title">Coffee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $coffee;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Coffee $coffee)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;coffee = $coffee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getCost</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;coffee-&gt;getCost() + <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;coffee-&gt;getDescription() . <span class="string">', whip'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VanillaCoffee</span> <span class="keyword">implements</span> <span class="title">Coffee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $coffee;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Coffee $coffee)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;coffee = $coffee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getCost</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;coffee-&gt;getCost() + <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getDescription</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;coffee-&gt;getDescription() . <span class="string">', vanilla'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æ¥åˆ¶ä½œå’–å•¡ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$someCoffee = <span class="keyword">new</span> SimpleCoffee();</span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getCost(); <span class="comment">// 10</span></span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getDescription(); <span class="comment">// Simple Coffee</span></span><br><span class="line"></span><br><span class="line">$someCoffee = <span class="keyword">new</span> MilkCoffee($someCoffee);</span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getCost(); <span class="comment">// 12</span></span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getDescription(); <span class="comment">// Simple Coffee, milk</span></span><br><span class="line"></span><br><span class="line">$someCoffee = <span class="keyword">new</span> WhipCoffee($someCoffee);</span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getCost(); <span class="comment">// 17</span></span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getDescription(); <span class="comment">// Simple Coffee, milk, whip</span></span><br><span class="line"></span><br><span class="line">$someCoffee = <span class="keyword">new</span> VanillaCoffee($someCoffee);</span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getCost(); <span class="comment">// 20</span></span><br><span class="line"><span class="keyword">echo</span> $someCoffee-&gt;getDescription(); <span class="comment">// Simple Coffee, milk, whip, vanilla</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ“¦-å¤–è§‚æ¨¡å¼"><a href="#ğŸ“¦-å¤–è§‚æ¨¡å¼" class="headerlink" title="ğŸ“¦ å¤–è§‚æ¨¡å¼"></a>ğŸ“¦ å¤–è§‚æ¨¡å¼</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>ä½ æ˜¯æ€ä¹ˆæ‰“å¼€è®¡ç®—æœºçš„ï¼Ÿâ€œæŒ‰ä¸‹ç”µæºæŒ‰é’®â€ä½ ä¼šè¿™ä¹ˆè¯´ï¼Œé‚£ä»…ä»…æ˜¯ä½ æ‰€çŸ¥é“çš„ï¼Œé‚£æ˜¯ä½ ä½¿ç”¨çš„è®¡ç®—æœºåœ¨å¤–éƒ¨æä¾›çš„ç®€å•æ¥å£ï¼Œåœ¨å†…éƒ¨ï¼Œå®ƒè¿˜å¿…é¡»è¦åšå¾ˆå¤šäº‹æƒ…æ‰èƒ½å®ç°ã€‚ä¸å¤æ‚å­ç³»ç»Ÿçš„è¿™ç§ç®€å•æ¥å£å°±æ˜¯ä¸€ä¸ªå¤–è§‚ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å¤–è§‚æ¨¡å¼æä¾›äº†åˆ°å¤æ‚å­ç³»ç»Ÿçš„ç®€åŒ–æ¥å£ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>å¤–è§‚æ˜¯ä¸ºå¤§å‹ä»£ç ï¼ˆä¾‹å¦‚ç±»åº“ï¼‰æä¾›ç®€åŒ–æ¥å£çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>ç”¨ä¸Šé¢è®¡ç®—æœºçš„ä¾‹å­ï¼Œè¿™é‡Œæœ‰ä¸ªè®¡ç®—æœºç±»ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getElectricShock</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Ouch!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeSound</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Beep beep!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">showLoadingScreen</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Loading.."</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">bam</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Ready to be used!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">closeEverything</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Bup bup bup buzzzz!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sooth</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Zzzzz"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pullCurrent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Haaah!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯å¤–è§‚ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComputerFacade</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $computer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Computer $computer)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer = $computer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">turnOn</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;getElectricShock();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;makeSound();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;showLoadingScreen();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;bam();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">turnOff</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;closeEverything();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;pullCurrent();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;computer-&gt;sooth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å¤–è§‚ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$computer = <span class="keyword">new</span> ComputerFacade(<span class="keyword">new</span> Computer());</span><br><span class="line">$computer-&gt;turnOn(); <span class="comment">// Ouch! Beep beep! Loading.. Ready to be used!</span></span><br><span class="line">$computer-&gt;turnOff(); <span class="comment">// Bup bup buzzz! Haah! Zzzzz</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸƒ-äº«å…ƒ"><a href="#ğŸƒ-äº«å…ƒ" class="headerlink" title="ğŸƒ äº«å…ƒ"></a>ğŸƒ äº«å…ƒ</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>ä½ æœ‰æ²¡æœ‰åœ¨æ‘Šå­ä¸Šä¹°è¿‡èŒ¶ï¼Ÿä»–ä»¬é€šå¸¸ä¼šå¤šåšå‡ æ¯ï¼ŒæŠŠå¤šå‡ºæ¥çš„ç•™ç»™å…¶ä»–é¡¾å®¢ï¼Œè¿™æ ·å¯ä»¥èŠ‚çº¦èµ„æºï¼Œæ¯”å¦‚ç‡ƒæ°”ã€‚ äº«å…ƒè®¾è®¡æ¨¡å¼ä¸»è¦å°±æ˜¯è¿™é‡Œï¼Œå³å…±äº«ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å®ƒç”¨äºé€šè¿‡ä¸ç›¸ä¼¼å¯¹è±¡å°½å¯èƒ½å¤šåœ°å…±äº«æ¥æœ€å¤§ç¨‹åº¦å‡å°‘å†…å­˜ä½¿ç”¨æˆ–è€…è®¡ç®—å¼€é”€ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œäº«å…ƒ æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚äº«å…ƒæ˜¯é€šè¿‡ä¸å…¶ä»–ç±»ä¼¼å¯¹è±¡å…±äº«å°½å¯èƒ½å¤šçš„æ•°æ®æ¥æœ€å¤§ç¨‹åº¦å‡å°‘å†…å­˜ä½¿ç”¨çš„å¯¹è±¡ï¼›å½“ç®€å•çš„é‡å¤ä»£ç å ç”¨äº†è¿‡å¤šå†…å­˜æ—¶ï¼Œè¿™æ˜¯ä¸€ç§å¤§é‡ä½¿ç”¨å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>åˆ©ç”¨ä¸Šé¢èŒ¶çš„ä¾‹å­ã€‚é¦–å…ˆè¦æœ‰åšèŒ¶å¸ˆå‚…ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Anything that will be cached is flyweight.</span></span><br><span class="line"><span class="comment">// Types of tea here will be flyweights.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KarakTea</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Acts as a factory and saves the tea</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TeaMaker</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $availableTea = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">make</span><span class="params">($preference)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="keyword">$this</span>-&gt;availableTea[$preference])) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;availableTea[$preference] = <span class="keyword">new</span> KarakTea();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;availableTea[$preference];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æ˜¯æä¾›æœåŠ¡çš„èŒ¶åº—ï¼ˆTeaShopï¼‰</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TeaShop</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $orders;</span><br><span class="line">    <span class="keyword">protected</span> $teaMaker;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(TeaMaker $teaMaker)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;teaMaker = $teaMaker;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">takeOrder</span><span class="params">(string $teaType, int $table)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;orders[$table] = <span class="keyword">$this</span>-&gt;teaMaker-&gt;make($teaType);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">serve</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;orders <span class="keyword">as</span> $table =&gt; $tea) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"Serving tea to table# "</span> . $table;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨æ³•</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$teaMaker = <span class="keyword">new</span> TeaMaker();</span><br><span class="line">$shop = <span class="keyword">new</span> TeaShop($teaMaker);</span><br><span class="line"></span><br><span class="line">$shop-&gt;takeOrder(<span class="string">'less sugar'</span>, <span class="number">1</span>);</span><br><span class="line">$shop-&gt;takeOrder(<span class="string">'more milk'</span>, <span class="number">2</span>);</span><br><span class="line">$shop-&gt;takeOrder(<span class="string">'without sugar'</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">$shop-&gt;serve();</span><br><span class="line"><span class="comment">// Serving tea to table# 1</span></span><br><span class="line"><span class="comment">// Serving tea to table# 2</span></span><br><span class="line"><span class="comment">// Serving tea to table# 5</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ±-ä»£ç†"><a href="#ğŸ±-ä»£ç†" class="headerlink" title="ğŸ± ä»£ç†"></a>ğŸ± ä»£ç†</h3><p>å®é™…ä¾‹å­</p>
<blockquote>
<p>ç”¨è¿‡é—¨ç¦å¡é€šè¿‡å®‰å…¨é—¨å—ï¼Ÿå¼€é—¨çš„æ–¹æ³•å¾ˆå¤šï¼Œæ¯”å¦‚ç”¨é—¨ç¦å¡æˆ–è€…æŒ‰ä¸‹ç»•è¿‡å®‰å…¨æ€§çš„æŒ‰é’®ã€‚é—¨çš„ä¸»è¦åŠŸèƒ½æ˜¯æ‰“å¼€ï¼Œä½†æ˜¯å…¶é¡¶éƒ¨æ·»åŠ äº†ä»£ç†ä»¥æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚è®©æˆ‘ä½¿ç”¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹è§£é‡Šå®ƒã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œä¸€ä¸ªç±»è¡¨ç¤ºå¦ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä»£ç†æ˜¯ä¸€ä¸ªç±»ï¼Œå……å½“å…¶ä»–ç±»çš„æ¥å£ã€‚ä»£ç†æ—¶å®¢æˆ·ç«¯è°ƒç”¨çš„åŒ…è£…å™¨æˆ–è€…åŒ…è£…å¯¹è±¡ï¼Œç”¨æ¥è®¿é—®åå°çš„çœŸå®å¯¹è±¡ã€‚ä½¿ç”¨ä»£ç†å¯ä»¥ç®€å•åœ°è½¬å‘åˆ°çœŸå®å¯¹è±¡ï¼Œè¿˜å¯ä»¥æä¾›å…¶ä»–é€»è¾‘ã€‚åœ¨ä»£ç†ä¸­ï¼Œè¿˜å¯ä»¥æä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨å¯¹å®é™…å¯¹è±¡åœ°æ“ä½œå ç”¨å¤§é‡èµ„æºæ—¶è¿›è¡Œç¼“å­˜ï¼Œæˆ–è€…åœ¨è°ƒç”¨å¯¹çœŸæ˜¯å¯¹è±¡åœ°æ“ä½œä¹‹å‰æ£€æŸ¥å…ˆå†³æ¡ä»¶ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>ç”¨ä¸Šé¢å®‰å…¨é—¨çš„ä¾‹å­ã€‚é¦–å…ˆï¼Œå®ç°é—¨çš„æ¥å£ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">open</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LabDoor</span> <span class="keyword">implements</span> <span class="title">Door</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">open</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Opening lab door"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">close</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Closing the lab door"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æˆ‘ä»¬ç”¨ä¸€ä¸ªä»£ç†ä½¿é—¨æ›´å®‰å…¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SecuredDoor</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $door;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Door $door)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;door = $door;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">open</span><span class="params">($password)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;authenticate($password)) &#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;door-&gt;open();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">"Big no! It ain't possible."</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">authenticate</span><span class="params">($password)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $password === <span class="string">'$ecr@t'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">close</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;door-&gt;close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨ä¾‹</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$door = <span class="keyword">new</span> SecuredDoor(<span class="keyword">new</span> LabDoor());</span><br><span class="line">$door-&gt;open(<span class="string">'invalid'</span>); <span class="comment">// Big no! It ain't possible.</span></span><br><span class="line"></span><br><span class="line">$door-&gt;open(<span class="string">'$ecr@t'</span>); <span class="comment">// Opening lab door</span></span><br><span class="line">$door-&gt;close(); <span class="comment">// Closing lab door</span></span><br></pre></td></tr></table></figure>
<p>å¦ä¸€ä¸ªä¾‹å­æ˜¯æŸç§æ•°æ®æ˜ å°„å™¨çš„å®ç°ã€‚ä¾‹å¦‚ï¼Œæˆ‘æœ€è¿‘ä½¿ç”¨è¿™ç§æ¨¡å¼ä¸º MongoDB åˆ¶ä½œäº† ODM (å¯¹è±¡æ•°æ®æ˜ å°„å™¨)ï¼Œåœ¨å…¶ä¸­ç”¨åˆ°äº†é­”æ³•æ–¹æ³• <code>__call()</code> å›´ç»• mongo ç±»ç¼–å†™äº†ä¸€ä¸ªä»£ç†ã€‚æ‰€æœ‰çš„æ–¹æ³•è°ƒç”¨éƒ½è¢«ä»£ç†åˆ°åŸå§‹ mongo ç±»ï¼Œå¹¶ä¸”åŸæ ·è¿”å›æ£€ç´¢ç»“æœï¼Œä½†æ˜¯ <code>find</code> æˆ– <code>findOne</code> çš„æƒ…å†µä¸‹ï¼Œæ•°æ®æ˜ å°„åˆ°æ‰€éœ€çš„ç±»å¯¹è±¡ï¼Œè¿”å›çš„æ˜¯è¯¥å¯¹è±¡è€Œä¸æ˜¯ <code>Cursor</code>ã€‚</p>
<h2 id="è¡Œä¸ºå‹æ¨¡å¼"><a href="#è¡Œä¸ºå‹æ¨¡å¼" class="headerlink" title="è¡Œä¸ºå‹æ¨¡å¼"></a>è¡Œä¸ºå‹æ¨¡å¼</h2><p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å®ƒä¸å¯¹è±¡ä¹‹é—´çš„èŒè´£åˆ†é…æœ‰å…³ã€‚å®ƒä»¬ä¸ç»“æ„æ¨¡å¼çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒä»¬ä¸ä»…æŒ‡å®šç»“æ„ï¼Œè€Œä¸”è¿˜æ¦‚è¿°äº†å®ƒä»¬ä¹‹é—´æ¶ˆæ¯ä¼ é€’/é€šä¿¡çš„æ¨¡å¼ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä»¬æ˜¯ä¸ºäº†è§£å†³å¦‚ä½•åœ¨è½¯ä»¶ç»„ä»¶ä¸­è¿è¡Œä¸€ç§è¡Œä¸ºçš„é—®é¢˜ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œè¡Œä¸ºå‹æ¨¡å¼æ˜¯è¯†åˆ«å¯¹è±¡ä¹‹é—´å¸¸è§çš„é€šä¿¡æ¨¡å¼å¹¶å®ç°è¿™äº›æ¨¡å¼çš„è®¾è®¡æ¨¡å¼ã€‚è¿™æ ·åšæé«˜äº†æ‰§è¡Œæ­¤é€šä¿¡çš„çµæ´»æ€§ã€‚</p>
</blockquote>
<p>ä¸‹é¢åˆ—å‡º 10 ç§è¡Œä¸ºå‹æ¨¡å¼ï¼š</p>
<ul>
<li><a href="#ğŸ”—-è´£ä»»é“¾">Chain of Responsibility è´£ä»»é“¾</a></li>
<li><a href="#ğŸ‘®-å‘½ä»¤">Command å‘½ä»¤</a></li>
<li><a href="#â¿-è¿­ä»£å™¨">Iterator è¿­ä»£å™¨</a></li>
<li><a href="#ğŸ‘½-è°ƒè§£å‘˜">Mediator è°ƒè§£å‘˜</a></li>
<li><a href="#ğŸ’¾-å¤‡å¿˜å½•">Memento å¤‡å¿˜å½•</a></li>
<li><a href="#ğŸ˜-è§‚å¯Ÿè€…">Observer è§‚å¯Ÿè€…</a></li>
<li><a href="#ğŸƒ-è®¿é—®è€…">Visitor è®¿é—®è€…</a></li>
<li><a href="#ğŸ’¡-ç­–ç•¥">Strategy ç­–ç•¥</a></li>
<li><a href="#ğŸ’¢-çŠ¶æ€">State çŠ¶æ€</a></li>
<li><a href="#ğŸ“’-æ¨¡æ¿æ–¹æ³•">Template Method æ¨¡æ¿æ–¹æ³•</a></li>
</ul>
<h3 id="ğŸ”—-è´£ä»»é“¾"><a href="#ğŸ”—-è´£ä»»é“¾" class="headerlink" title="ğŸ”— è´£ä»»é“¾"></a>ğŸ”— è´£ä»»é“¾</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>å¦‚æœï¼Œä½ çš„è´¦å·æœ‰ä¸‰ç§æ”¯ä»˜æ–¹å¼ï¼ˆAï¼ŒB å’Œ C)ï¼›æ¯ä¸ªè´¦å·éƒ½æœ‰ä¸åŒçš„å­˜æ¬¾ã€‚ A æœ‰ 100 å…ƒï¼Œ B æœ‰ 300 å…ƒ å’Œ C æœ‰ 1000 å…ƒï¼Œæ”¯ä»˜åå¥½çš„é¡ºåºä¾æ¬¡ä¸º Aã€Bã€C ã€‚ä½ å°†æ”¯ä»˜ä»¥æ¡ 210 å…ƒçš„å•†å“ã€‚ç”¨ä¸Šè´£ä»»é“¾ï¼Œé¦–å…ˆä¼šæ£€æŸ¥è´¦æˆ· A å¤Ÿä¸å¤Ÿæ”¯ä»˜ï¼Œå¦‚æœå¯ä»¥ï¼Œå°†è¿›è¡Œè´­ä¹°ï¼Œç„¶åé“¾æ¡æ–­è£‚ã€‚å¦‚æœä¸å¤Ÿï¼Œåˆ™è¯·æ±‚ä¼šè¿›ä¸€æ­¥åˆ°è´¦æˆ· B ï¼Œæ£€æŸ¥æ˜¯å¦å¤Ÿæ”¯ä»˜ï¼Œå¦‚æœå¯ä»¥ï¼Œå°†è¿›è¡Œè´­ä¹°ï¼Œç„¶åé“¾æ¡æ–­è£‚ã€‚å¦åˆ™è¯·æ±‚ç»§ç»­ç›´åˆ°æ‰¾åˆ°ä½•æ—¶çš„å¤„ç†ç¨‹åºä¸ºæ­¢ã€‚åœ¨è¿™é‡Œï¼ŒAã€B å’Œ C æ˜¯é“¾ä¸Šçš„é“¾æ¥ï¼Œæ•´ä¸ªç°è±¡å°±æ˜¯è´£ä»»é“¾ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å®ƒæœ‰åŠ©äºæ„å»ºå¯¹è±¡é“¾ã€‚è¯·æ±‚ä»ä¸€ç«¯è¿›å…¥ï¼Œå¹¶ä¸æ–­åœ°ä»ä¸€ä¸ªå¯¹è±¡ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚åœ°å¤„ç†ç¨‹åºä¸ºæ­¢ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>é¢å‘å¯¹è±¡è®¾è®¡ä¸­ï¼Œè´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”±å‘½ä»¤å¯¹è±¡çš„æºå’Œä¸€ç³»åˆ—å¤„ç†å¯¹è±¡ç»„æˆã€‚æ¯ä¸ªå¤„ç†å¯¹è±¡éƒ½åŒ…å«å®šä¹‰å…¶å¯ä»¥å¤„ç†çš„å‘½ä»¤å¯¹è±¡ç±»å‹çš„é€»è¾‘ï¼›å…¶ä½™çš„å°†ä¼ é€’åˆ°é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>ç”¨ä¸Šè´¦æˆ·çš„ä¾‹å­ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŸºæœ¬è´¦æˆ·ï¼Œè¯¥è´¦æˆ·å…·æœ‰è´¦æˆ·å’ŒæŸäº›è´¦æˆ·é“¾æ¥åœ¨ä¸€èµ·çš„é€»è¾‘ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $successor;</span><br><span class="line">    <span class="keyword">protected</span> $balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setNext</span><span class="params">(Account $account)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;successor = $account;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pay</span><span class="params">(float $amountToPay)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;canPay($amountToPay)) &#123;</span><br><span class="line">            <span class="keyword">echo</span> sprintf(<span class="string">'Paid %s using %s'</span> . PHP_EOL, $amountToPay, get_called_class());</span><br><span class="line">        &#125; <span class="keyword">elseif</span> (<span class="keyword">$this</span>-&gt;successor) &#123;</span><br><span class="line">            <span class="keyword">echo</span> sprintf(<span class="string">'Cannot pay using %s. Proceeding ..'</span> . PHP_EOL, get_called_class());</span><br><span class="line">            <span class="keyword">$this</span>-&gt;successor-&gt;pay($amountToPay);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">'None of the accounts have enough balance'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">canPay</span><span class="params">($amount)</span>: <span class="title">bool</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;balance &gt;= $amount;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span> <span class="keyword">extends</span> <span class="title">Account</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(float $balance)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;balance = $balance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Paypal</span> <span class="keyword">extends</span> <span class="title">Account</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(float $balance)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;balance = $balance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bitcoin</span> <span class="keyword">extends</span> <span class="title">Account</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(float $balance)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;balance = $balance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œä½¿ç”¨ä¸Šé¢å®šä¹‰çš„é“¾æ¥ï¼ˆå³é“¶è¡Œã€PayPalã€æ¯”ç‰¹å¸ï¼‰å‡†å¤‡é“¾ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡†å¤‡è¿™æ ·ä¸€æ¡é“¾</span></span><br><span class="line"><span class="comment">//      $bank-&gt;$paypal-&gt;$bitcoin</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// æœ€å¼€å§‹æ˜¯é“¶è¡Œ</span></span><br><span class="line"><span class="comment">//      å¦‚æœé“¶è¡Œä¸å¤Ÿå°±å°è¯• PayPal</span></span><br><span class="line"><span class="comment">//     å¦‚æœ PayPal ä¸å¤Ÿå†å°è¯• bit coin</span></span><br><span class="line"></span><br><span class="line">$bank = <span class="keyword">new</span> Bank(<span class="number">100</span>);          <span class="comment">// é“¶è¡Œä½™é¢ 100</span></span><br><span class="line">$paypal = <span class="keyword">new</span> Paypal(<span class="number">200</span>);      <span class="comment">// Paypal ä½™é¢ä¸º 200</span></span><br><span class="line">$bitcoin = <span class="keyword">new</span> Bitcoin(<span class="number">300</span>);    <span class="comment">// Bitcoin ä½™é¢ä¸º 300</span></span><br><span class="line"></span><br><span class="line">$bank-&gt;setNext($paypal);</span><br><span class="line">$paypal-&gt;setNext($bitcoin);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Let's try to pay using the first priority i.e. bank</span></span><br><span class="line">$bank-&gt;pay(<span class="number">259</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output will be</span></span><br><span class="line"><span class="comment">// ==============</span></span><br><span class="line"><span class="comment">// Cannot pay using bank. Proceeding ..</span></span><br><span class="line"><span class="comment">// Cannot pay using paypal. Proceeding ..:</span></span><br><span class="line"><span class="comment">// Paid 259 using Bitcoin!</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ‘®-å‘½ä»¤"><a href="#ğŸ‘®-å‘½ä»¤" class="headerlink" title="ğŸ‘® å‘½ä»¤"></a>ğŸ‘® å‘½ä»¤</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>ä¸€ä¸ªé€šç”¨çš„ä¾‹å­æ˜¯ä½ åœ¨é¤å…ç‚¹é¤ã€‚ä½ ï¼ˆå³å®¢æˆ·ï¼‰è¦æ±‚æœåŠ¡å‘˜ï¼ˆå³è°ƒç”¨è€…ï¼‰å¸¦æ¥ä¸€äº›é£Ÿç‰©ï¼ˆå³å‘½ä»¤ï¼‰ï¼ŒæœåŠ¡å‘˜åªéœ€å°†è¯·æ±‚è½¬å‘ç»™è´Ÿè´£çƒ¹é¥ªçš„å¨å¸ˆï¼ˆå³æ¥æ”¶è€…ï¼‰ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯ï¼Œä½ ï¼ˆå³å®¢æˆ·ï¼‰ä½¿ç”¨é¥æ§å™¨ï¼ˆå³è°ƒç”¨è€…ï¼‰æ‰“å¼€ï¼ˆå³å‘½ä»¤ï¼‰ç”µè§†ï¼ˆå³æ¥æ”¶è€…ï¼‰ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å…è®¸ä½ å°†åŠ¨ä½œå°è£…åœ¨å¯¹è±¡ä¸­ã€‚è¯¥æ¨¡å¼çš„å…³é”®æ€æƒ³æ˜¯æä¾›ä½¿å®¢æˆ·ç«¯å’Œæ¥æ”¶è€…è§£è€¦çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…¶ä¸­çš„å¯¹è±¡ç”¨äºå°è£…ä»¥åæ‰§è¡ŒåŠ¨ä½œæˆ–è§¦å‘äº‹ä»¶æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯åŒ…æ‹¬æ–¹æ³•åç§°ï¼Œæ‹¥æœ‰æ–¹æ³•çš„å¯¹è±¡å’Œæ–¹æ³•å‚æ•°çš„å€¼ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>é¦–å…ˆå®ç°æ¥æ”¶è€…çš„æ‰€æœ‰åŠ¨ä½œ</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Receiver</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bulb</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">turnOn</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Bulb has been lit"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">turnOff</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Darkness!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬å°†æ¥å£çš„æ¯ä¸€ä¸ªå‘½ä»¤éƒ½å®ç°</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Command</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">execute</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">undo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">redo</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Command</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TurnOn</span> <span class="keyword">implements</span> <span class="title">Command</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $bulb;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Bulb $bulb)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bulb = $bulb;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bulb-&gt;turnOn();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">undo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bulb-&gt;turnOff();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">redo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TurnOff</span> <span class="keyword">implements</span> <span class="title">Command</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $bulb;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Bulb $bulb)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bulb = $bulb;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bulb-&gt;turnOff();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">undo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;bulb-&gt;turnOn();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">redo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æˆ‘ä»¬çš„è°ƒç”¨è€…ï¼Œå®¢æˆ·ç«¯å°†ä¸ä¹‹äº¤äº’ä»¥å¤„ç†ä»»ä½•å‘½ä»¤ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Invoker</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RemoteControl</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">submit</span><span class="params">(Command $command)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $command-&gt;execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åçœ‹çœ‹å®¢æˆ·ç«¯ä¸­å¦‚ä½•ä½¿ç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$bulb = <span class="keyword">new</span> Bulb();</span><br><span class="line"></span><br><span class="line">$turnOn = <span class="keyword">new</span> TurnOn($bulb);</span><br><span class="line">$turnOff = <span class="keyword">new</span> TurnOff($bulb);</span><br><span class="line"></span><br><span class="line">$remote = <span class="keyword">new</span> RemoteControl();</span><br><span class="line">$remote-&gt;submit($turnOn); <span class="comment">// Bulb has been lit!</span></span><br><span class="line">$remote-&gt;submit($turnOff); <span class="comment">// Darkness!</span></span><br></pre></td></tr></table></figure>
<p>å‘½ä»¤æ¨¡å¼å¯ä»¥ç”¨æ¥å®ç°åŸºäºäº‹åŠ¡çš„ç³»ç»Ÿã€‚ä¸€æ—¦æ‰§è¡Œå‘½ä»¤ï¼Œä¾¿ä¼šç»§ç»­ä¿æŒå‘½ä»¤çš„å†å²è®°å½•ã€‚å¦‚æœæœ€ç»ˆçš„å‘½ä»¤è¢«æˆåŠŸæ‰§è¡Œï¼Œè¦ä¹ˆä¸€åˆ‡æ­£å¸¸å¦åˆ™åªéœ€è¦ä¾¿åˆ©å†å²è®°å½•å¹¶ç»§ç»­å¯¹æ‰€æœ‰å·²æ‰§è¡Œçš„å‘½ä»¤æ‰§è¡Œæ’¤é”€å³å¯ã€‚</p>
<h3 id="â¿-è¿­ä»£å™¨"><a href="#â¿-è¿­ä»£å™¨" class="headerlink" title="â¿ è¿­ä»£å™¨"></a>â¿ è¿­ä»£å™¨</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>æ—§æ”¶éŸ³æœºçš„ä¾‹å­æŒºä¸é”™ï¼Œç”¨æˆ·å¯ä»¥ä»æŸä¸ªé¢‘é“å¼€å§‹ï¼Œç„¶åä½¿ç”¨ä¸‹ä¸€ä¸ªæˆ–è€…ä¸Šä¸€ä¸ªæŒ‰é’®æµè§ˆå„ä¸ªé¢‘é“ã€‚åˆæˆ–è€…æ˜¯ MP3 æ’­æ”¾å™¨æˆ–è€…ç”µè§†æœºä¹Ÿå¯ä»¥é€šè¿‡å‰åæŒ‰é’®æµè§ˆå†…å®¹ï¼Œæ¢å¥è¯è¯´å®ƒä»¬éƒ½æä¾›äº†ä¸€ä¸ªæ¥å£ï¼Œä»¥å¾ªç¯çš„æ–¹å¼è®¿é—®ç›¸åº”çš„é¢‘é“ï¼Œæ­Œæ›²æˆ–å¹¿æ’­ç”µå°ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å®ƒæä¾›äº†ä¸€ç§åœ¨ä¸æš´éœ²åº•å±‚å®ç°çš„æƒ…å†µä¸‹è®¿é—®å¯¹è±¡å…ƒç´ çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­è¿­ä»£å™¨ç”¨äºéå†å®¹å™¨å¹¶è®¿é—®å®¹å™¨çš„å…ƒç´ ã€‚è¿­ä»£å™¨æ¨¡å¼å°†ç®—æ³•ä¸å®¹å™¨è§£è€¦ï¼›åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç®—æ³•å¿…ç„¶ç‰¹å®šäºå®¹å™¨ï¼Œå› æ­¤æ— æ³•è§£è€¦ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>åœ¨ PHP ä¸­ä½¿ç”¨ SPL ï¼ˆæ ‡å‡†åº“ï¼‰ å¾ˆå®¹æ˜“å®ç°ã€‚è½¬æ¢ä¸Šé¢ç”µå°çš„ä¾‹å­ï¼Œé¦–å…ˆè®¾è®¡ç”µå°ç±»ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RadioStation</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $frequency;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(float $frequency)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;frequency = $frequency;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getFrequency</span><span class="params">()</span>: <span class="title">float</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;frequency;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå®ç°è¿­ä»£å™¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Countable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Iterator</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StationList</span> <span class="keyword">implements</span> <span class="title">Countable</span>, <span class="title">Iterator</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/** <span class="doctag">@var</span> RadioStation[] $stations */</span></span><br><span class="line">    <span class="keyword">protected</span> $stations = [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** <span class="doctag">@var</span> int $counter */</span></span><br><span class="line">    <span class="keyword">protected</span> $counter;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addStation</span><span class="params">(RadioStation $station)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;stations[] = $station;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">removeStation</span><span class="params">(RadioStation $toRemove)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $toRemoveFrequency = $toRemove-&gt;getFrequency();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;stations = array_filter(<span class="keyword">$this</span>-&gt;stations, <span class="function"><span class="keyword">function</span> <span class="params">(RadioStation $station)</span> <span class="title">use</span> <span class="params">($toRemoveFrequency)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> $station-&gt;getFrequency() !== $toRemoveFrequency;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">count</span><span class="params">()</span>: <span class="title">int</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count(<span class="keyword">$this</span>-&gt;stations);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">current</span><span class="params">()</span>: <span class="title">RadioStation</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;stations[<span class="keyword">$this</span>-&gt;counter];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">key</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;counter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">next</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;counter++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">rewind</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;counter = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">valid</span><span class="params">()</span>: <span class="title">bool</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;stations[<span class="keyword">$this</span>-&gt;counter]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¹ˆç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$stationList = <span class="keyword">new</span> StationList();</span><br><span class="line"></span><br><span class="line">$stationList-&gt;addStation(<span class="keyword">new</span> RadioStation(<span class="number">89</span>));</span><br><span class="line">$stationList-&gt;addStation(<span class="keyword">new</span> RadioStation(<span class="number">101</span>));</span><br><span class="line">$stationList-&gt;addStation(<span class="keyword">new</span> RadioStation(<span class="number">102</span>));</span><br><span class="line">$stationList-&gt;addStation(<span class="keyword">new</span> RadioStation(<span class="number">103.2</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span>($stationList <span class="keyword">as</span> $station) &#123;</span><br><span class="line">    <span class="keyword">echo</span> $station-&gt;getFrequency() . PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$stationList-&gt;removeStation(<span class="keyword">new</span> RadioStation(<span class="number">89</span>)); <span class="comment">// Will remove station 89</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ‘½-è°ƒè§£å‘˜"><a href="#ğŸ‘½-è°ƒè§£å‘˜" class="headerlink" title="ğŸ‘½ è°ƒè§£å‘˜"></a>ğŸ‘½ è°ƒè§£å‘˜</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>ä¸€ä¸ªä¸€èˆ¬çš„ä¾‹å­ï¼Œå½“ä½ ä¸å…¶ä»–äººé€šè¿‡æ‰‹æœºé€šè¯æ—¶ï¼Œå¯¹è¯æ¶ˆæ¯æ˜¯é€šè¿‡ç½‘ç»œæä¾›å•†å‘é€è¿‡å»çš„ã€‚è¿™é‡Œç½‘ç»œæä¾›å•†å°±æ˜¯è°ƒè§£å‘˜ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>è°ƒè§£å‘˜æ¨¡å¼æ·»åŠ äº†ç¬¬ä¸‰æ–¹å¯¹è±¡ï¼ˆç§°ä½œè°ƒè§£å‘˜ï¼‰ç”¨äºæ§åˆ¶ä¸¤ä¸ªå¯¹è±¡ï¼ˆç§°ä½œåŒäº‹ï¼‰ä¹‹é—´çš„äº¤äº’ã€‚å®ƒæœ‰åŠ©äºå‡å°‘å½¼æ­¤é€šä¿¡çš„ç±»ä¹‹é—´çš„è€¦åˆã€‚å› ä¸ºä»–ä»¬ä¸éœ€è¦äº†è§£å½¼æ­¤çš„å®ç°ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œè°ƒè§£å‘˜æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°è£…äº†ä¸€ç»„å¯¹è±¡çš„äº¤äº’æ–¹å¼ã€‚ç”±äºè¯¥æ¨¡å¼å¯ä»¥æ›´æ”¹ç¨‹åºè¿è¡Œè¡Œä¸ºï¼Œå› æ­¤è¯¥æ¨¡å¼è¢«è§†ä¸ºè¡Œä¸ºæ¨¡å¼ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„èŠå¤©å®¤ï¼ˆå³è°ƒè§£å‘˜ï¼‰ä¸­çš„ç”¨æˆ·ï¼ˆå³åŒäº‹ï¼‰äº’ç›¸å‘æ¶ˆæ¯çš„ä¾‹å­ã€‚</p>
<p>é¦–å…ˆï¼Œå®ç°è°ƒè§£å‘˜æ¥å£ï¼Œå³èŠå¤©å®¤ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ChatRoomMediator</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">showMessage</span><span class="params">(User $user, string $message)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mediator</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChatRoom</span> <span class="keyword">implements</span> <span class="title">ChatRoomMediator</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">showMessage</span><span class="params">(User $user, string $message)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $time = date(<span class="string">'M d, y H:i'</span>);</span><br><span class="line">        $sender = $user-&gt;getName();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> $time . <span class="string">'['</span> . $sender . <span class="string">']:'</span> . $message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ˜¯ç”¨æˆ·ï¼Œå³åŒäº‹</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $name;</span><br><span class="line">    <span class="keyword">protected</span> $chatMediator;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $name, ChatRoomMediator $chatMediator)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;chatMediator = $chatMediator;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span><span class="params">($message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;chatMediator-&gt;showMessage(<span class="keyword">$this</span>, $message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨ä¾‹</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$mediator = <span class="keyword">new</span> ChatRoom();</span><br><span class="line"></span><br><span class="line">$john = <span class="keyword">new</span> User(<span class="string">'John Doe'</span>, $mediator);</span><br><span class="line">$jane = <span class="keyword">new</span> User(<span class="string">'Jane Doe'</span>, $mediator);</span><br><span class="line"></span><br><span class="line">$john-&gt;send(<span class="string">'Hi there!'</span>);</span><br><span class="line">$jane-&gt;send(<span class="string">'Hey!'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output will be</span></span><br><span class="line"><span class="comment">// Feb 14, 10:58 [John]: Hi there!</span></span><br><span class="line"><span class="comment">// Feb 14, 10:58 [Jane]: Hey!</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ’¾-å¤‡å¿˜å½•"><a href="#ğŸ’¾-å¤‡å¿˜å½•" class="headerlink" title="ğŸ’¾ å¤‡å¿˜å½•"></a>ğŸ’¾ å¤‡å¿˜å½•</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>ä¸¾ä¸€ä¸ªè®¡ç®—å™¨çš„ä¾‹å­ï¼Œè®¡ç®—å™¨ï¼ˆå³ originator ï¼‰åœ¨è¿™é‡Œæ¯æ‰§è¡Œä¸€äº›è¿ç®—ï¼Œæœ€åçš„ç»“æœéƒ½ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼ˆå³å¤‡å¿˜å½•ï¼‰ï¼Œä»¥ä¾¿ä½ è¿”å›å®ƒï¼Œè¿˜å¯ä»¥ç”¨æŸäº›æ“ä½œæŒ‰é’®ï¼ˆå³çœ‹å®ˆè€…ï¼‰å°†å…¶æ¢å¤ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å¤‡å¿˜å½•æ¨¡å¼æ˜¯å…³äºæ•è·å’Œå­˜å‚¨å¯¹è±¡çš„å½“å‰çŠ¶æ€çš„æ–¹å¼ï¼Œä»¥ä¾¿ä¹‹åå¯ä»¥å¹³æ»‘åœ°æ¢å¤å®ƒã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>å¤‡å¿˜å½•æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›äº†å°†å¯¹è±¡æ¢å¤åˆ°å…¶å…ˆå‰çŠ¶æ€ï¼ˆå›æ»šæ’¤é”€ï¼‰çš„èƒ½åŠ›ã€‚</p>
</blockquote>
<p>é€šå¸¸åœ¨éœ€è¦æä¾›æŸç§æ’¤é”€åŠŸèƒ½æ—¶å¾ˆæœ‰ç”¨ã€‚</p>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>æˆ‘ä»¬ä»¥æ–‡æœ¬ç¼–è¾‘å™¨ä¸ºä¾‹ï¼Œè¯¥ç¼–è¾‘å™¨ä¸æ—¶ä¿å­˜çŠ¶æ€ï¼Œå¹¶å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ¢å¤ã€‚</p>
<p>é¦–å…ˆæ˜¯ä¿å­˜ç¼–è¾‘å™¨çŠ¶æ€çš„å¤‡å¿˜å½•å¯¹è±¡ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EditorMemento</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $content;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $content)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;content = $content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getContent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;content;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æˆ‘ä»¬çš„ç¼–è¾‘å™¨ï¼Œå³ originator ï¼Œå°†è¦ä½¿ç”¨è¿™ä¸ªå¤‡å¿˜å½•å¯¹è±¡ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Editor</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $content = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">type</span><span class="params">(string $words)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;content = <span class="keyword">$this</span>-&gt;content . <span class="string">' '</span> . $words;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getContent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">save</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> EditorMemento(<span class="keyword">$this</span>-&gt;content);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">restore</span><span class="params">(EditorMemento $memento)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;content = $memento-&gt;getContent();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€è¿™ä¹ˆç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$editor = <span class="keyword">new</span> Editor();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type some stuff</span></span><br><span class="line">$editor-&gt;type(<span class="string">'This is the first sentence.'</span>);</span><br><span class="line">$editor-&gt;type(<span class="string">'This is second.'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Save the state to restore to : This is the first sentence. This is second.</span></span><br><span class="line">$saved = $editor-&gt;save();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type some more</span></span><br><span class="line">$editor-&gt;type(<span class="string">'And this is third.'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output: Content before Saving</span></span><br><span class="line"><span class="keyword">echo</span> $editor-&gt;getContent(); <span class="comment">// This is the first sentence. This is second. And this is third.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Restoring to last saved state</span></span><br><span class="line">$editor-&gt;restore($saved);</span><br><span class="line"></span><br><span class="line">$editor-&gt;getContent(); <span class="comment">// This is the first sentence. This is second.</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ˜-è§‚å¯Ÿè€…"><a href="#ğŸ˜-è§‚å¯Ÿè€…" class="headerlink" title="ğŸ˜ è§‚å¯Ÿè€…"></a>ğŸ˜ è§‚å¯Ÿè€…</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>æ‰¾å·¥ä½œçš„äººåœ¨èŒä½å‘å¸ƒç½‘ç«™ä¸Šè®¢é˜…ï¼Œè·å¾—åŒ¹é…çš„å·¥ä½œæœºä¼šæ—¶ï¼Œä»–ä»¬å¯ä»¥æ”¶åˆ°æ¶ˆæ¯ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»¥ä¾¿æ¯å½“å¯¹è±¡æ”¹å˜çŠ¶æ€æ—¶ï¼Œéƒ½ä¼šé€šçŸ¥å…¶æ‰€æœ‰ä¾èµ–å¯¹è±¡ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­å¯¹è±¡ï¼ˆç§°ä¸ºä¸»é¢˜ï¼‰ç»´æŠ¤å…¶ä¾èµ–é¡¹çš„åˆ—è¡¨ï¼ˆç§°ä¸ºè§‚å¯Ÿè€…ï¼‰ï¼Œå¹¶é€šè¿‡è°ƒç”¨å…¶æ–¹æ³•æ¥è‡ªåŠ¨å°†çŠ¶æ€æ›´æ”¹é€šçŸ¥ä»–ä»¬ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>å®ç°ä¸Šé¢çš„ä¾‹å­ï¼Œé¦–å…ˆï¼Œéœ€è¦å‘å¸ƒé€šçŸ¥ç»™æ±‚èŒè€…ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JobPost</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $title;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $title)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;title = $title;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getTitle</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;title;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JobSeeker</span> <span class="keyword">implements</span> <span class="title">Observer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(string $name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name = $name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">onJobPosted</span><span class="params">(JobPost $job)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Do something with the job posting</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Hi '</span> . <span class="keyword">$this</span>-&gt;name . <span class="string">'! New job posted: '</span>. $job-&gt;getTitle();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ±‚èŒè€…å°†è®¢é˜…èŒä½æ¶ˆæ¯</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmploymentAgency</span> <span class="keyword">implements</span> <span class="title">Observable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $observers = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">notify</span><span class="params">(JobPost $jobPosting)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;observers <span class="keyword">as</span> $observer) &#123;</span><br><span class="line">            $observer-&gt;onJobPosted($jobPosting);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">attach</span><span class="params">(Observer $observer)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;observers[] = $observer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addJob</span><span class="params">(JobPost $jobPosting)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;notify($jobPosting);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨ä¾‹</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create subscribers</span></span><br><span class="line">$johnDoe = <span class="keyword">new</span> JobSeeker(<span class="string">'John Doe'</span>);</span><br><span class="line">$janeDoe = <span class="keyword">new</span> JobSeeker(<span class="string">'Jane Doe'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create publisher and attach subscribers</span></span><br><span class="line">$jobPostings = <span class="keyword">new</span> EmploymentAgency();</span><br><span class="line">$jobPostings-&gt;attach($johnDoe);</span><br><span class="line">$jobPostings-&gt;attach($janeDoe);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add a new job and see if subscribers get notified</span></span><br><span class="line">$jobPostings-&gt;addJob(<span class="keyword">new</span> JobPost(<span class="string">'Software Engineer'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output</span></span><br><span class="line"><span class="comment">// Hi John Doe! New job posted: Software Engineer</span></span><br><span class="line"><span class="comment">// Hi Jane Doe! New job posted: Software Engineer</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸƒ-è®¿é—®è€…"><a href="#ğŸƒ-è®¿é—®è€…" class="headerlink" title="ğŸƒ è®¿é—®è€…"></a>ğŸƒ è®¿é—®è€…</h3><p>å®é™…ä¾‹å­</p>
<blockquote>
<p>åŠ å…¥æœ‰äººè¦å»è¿ªæ‹œæ—…æ¸¸ï¼Œä»–ä»¬éœ€è¦ä¸€ç§è¿›å…¥è¿ªæ‹œçš„æ–¹å¼ï¼ˆå³ç­¾è¯ï¼‰ã€‚æŠµè¾¾ä¹‹åï¼Œä»–ä»¬å¯ä»¥ç‹¬è‡ªå‰å¾€è¿ªæ‹œçš„ä»»ä½•åœ°æ–¹ï¼Œè€Œä¸éœ€è¦è·‘è…¿æè®¸å¯è¯ï¼›åªè¦å‘Šè¯‰ä»–ä»¬åœ°åï¼Œå°±å¯ä»¥å»å‚è§‚ã€‚è®¿é—®è€…æ¨¡å¼è®©ä½ åšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ æ·»åŠ æ¸¸è§ˆçš„åœ°ç‚¹ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥å°½å¯èƒ½å¤šè®¿é—®è€Œä¸éœ€è¦åšä»»ä½•ç¹ççš„å·¥ä½œã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>è®¿é—®è€…æ¨¡å¼ä½¿ä½ å¯ä»¥ç»™å¯¹è±¡æ·»åŠ è¿›ä¸€æ­¥çš„æ“ä½œï¼Œè€Œæ— éœ€ä¿®æ”¹å®ƒä»¬ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åœ¨é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œè®¿é—®è€…è®¾è®¡æ¨¡å¼æ—¶ä¸€ç§å°†ç®—æ³•å’Œæ“ä½œå¯¹è±¡çš„ç»“æ„åˆ†ç¦»çš„æ–¹æ³•ã€‚è¿™ç§åˆ†ç¦»çš„å®é™…ç»“æœæ˜¯èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹è¿™äº›å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹å‘ç°æœ‰å¯¹è±¡ç»“æ„æ·»åŠ æ–°æ“ä½œã€‚è¿™æ˜¯éµå¾ªå¼€é—­åŸåˆ™ï¼ˆOpen Closed Principleï¼‰çš„ä¸€ç§æ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>æˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€æ‰€åŠ¨ç‰©å›­ï¼Œå…¶ä¸­æœ‰å‡ ç§ä¸åŒçš„åŠ¨ç‰©ï¼Œæˆ‘ä»¬å¿…é¡»èµ‹äºˆå®ƒä»¬å£°éŸ³ã€‚ä¸‹é¢ç”¨è®¿é—®è€…æ¨¡å¼æ¥å®ç°å®ƒã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Visitee</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span><span class="params">(AnimalOperation $operation)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Visitor</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">AnimalOperation</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitMonkey</span><span class="params">(Monkey $monkey)</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitLion</span><span class="params">(Lion $lion)</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitDolphin</span><span class="params">(Dolphin $dolphin)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°è¿™äº›åŠ¨ç‰©</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Monkey</span> <span class="keyword">implements</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">shout</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Ooh oo aa aa!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span><span class="params">(AnimalOperation $operation)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $operation-&gt;visitMonkey(<span class="keyword">$this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lion</span> <span class="keyword">implements</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">roar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Roaaar!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span><span class="params">(AnimalOperation $operation)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $operation-&gt;visitLion(<span class="keyword">$this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dolphin</span> <span class="keyword">implements</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">speak</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Tuut tuttu tuutt!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">accept</span><span class="params">(AnimalOperation $operation)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $operation-&gt;visitDolphin(<span class="keyword">$this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°è®¿é—®è€…</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Speak</span> <span class="keyword">implements</span> <span class="title">AnimalOperation</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitMonkey</span><span class="params">(Monkey $monkey)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $monkey-&gt;shout();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitLion</span><span class="params">(Lion $lion)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $lion-&gt;roar();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitDolphin</span><span class="params">(Dolphin $dolphin)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $dolphin-&gt;speak();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$monkey = <span class="keyword">new</span> Monkey();</span><br><span class="line">$lion = <span class="keyword">new</span> Lion();</span><br><span class="line">$dolphin = <span class="keyword">new</span> Dolphin();</span><br><span class="line"></span><br><span class="line">$speak = <span class="keyword">new</span> Speak();</span><br><span class="line"></span><br><span class="line">$monkey-&gt;accept($speak);    <span class="comment">// Ooh oo aa aa!    </span></span><br><span class="line">$lion-&gt;accept($speak);      <span class="comment">// Roaaar!</span></span><br><span class="line">$dolphin-&gt;accept($speak);   <span class="comment">// Tuut tutt tuutt!</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹åŠ¨ç‰©å…·æœ‰ç»§æ‰¿å±‚æ¬¡ç»“æ„æ¥ç®€å•åœ°åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯æ¯å½“æˆ‘ä»¬å¿…é¡»å‘åŠ¨ç‰©æ·»åŠ æ–°åŠ¨ä½œæ—¶ï¼Œå°±å¿…é¡»ä¿®æ”¹åŠ¨ç‰©ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬ä¸å¿…æ›´æ”¹å®ƒä»¬ã€‚ä¾‹å¦‚ï¼šå‡è®¾æˆ‘ä»¬è¢«è¦æ±‚å°†è·³è·ƒè¡Œä¸ºæ·»åŠ åˆ°åŠ¨ç‰©ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„è®¿é—®è€…æ¥æ·»åŠ å®ƒï¼Œå³ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Jump</span> <span class="keyword">implements</span> <span class="title">AnimalOperation</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitMonkey</span><span class="params">(Monkey $monkey)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Jumped 20 feet high! on to the tree!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitLion</span><span class="params">(Lion $lion)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Jumped 7 feet! Back on the ground!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">visitDolphin</span><span class="params">(Dolphin $dolphin)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Walked on water a little and disappeared'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$jump = <span class="keyword">new</span> Jump();</span><br><span class="line"></span><br><span class="line">$monkey-&gt;accept($speak);   <span class="comment">// Ooh oo aa aa!</span></span><br><span class="line">$monkey-&gt;accept($jump);    <span class="comment">// Jumped 20 feet high! on to the tree!</span></span><br><span class="line"></span><br><span class="line">$lion-&gt;accept($speak);     <span class="comment">// Roaaar!</span></span><br><span class="line">$lion-&gt;accept($jump);      <span class="comment">// Jumped 7 feet! Back on the ground!</span></span><br><span class="line"></span><br><span class="line">$dolphin-&gt;accept($speak);  <span class="comment">// Tuut tutt tuutt!</span></span><br><span class="line">$dolphin-&gt;accept($jump);   <span class="comment">// Walked on water a little and disappeared</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ’¡-ç­–ç•¥"><a href="#ğŸ’¡-ç­–ç•¥" class="headerlink" title="ğŸ’¡ ç­–ç•¥"></a>ğŸ’¡ ç­–ç•¥</h3><p>ç°å®ä¾‹å­</p>
<blockquote>
<p>è€ƒè™‘ä¸€ä¸ªæ’åºçš„ä¾‹å­ï¼Œæˆ‘ä»¬å®ç°äº†å†’æ³¡æ’åºï¼Œä½†æ˜¯éšç€æ•°æ®çš„å¢é•¿ï¼Œå†’æ³¡æ’åºè¶Šæ¥è¶Šæ…¢ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å®ç°äº†å¿«æ’ã€‚ä½†æ˜¯ç°åœ¨ï¼Œå°½ç®¡å¿«é€Ÿæ’åºç®—æ³•å¯¹å¤§å‹æ•°æ®é›†è¡¨ç°æ›´å¥½ï¼Œä½†æ˜¯å¯¹äºè¾ƒå°æ•°æ®é›†å´å¾ˆæ…¢ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ç§ç­–ç•¥ï¼Œå¯¹äºå°å‹æ•°æ®é›†ï¼Œä½¿ç”¨å†’æ³¡æ’åºï¼Œè€Œå¯¹äºè¾ƒå¤§çš„ä½¿ç”¨å¿«æ’ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>ç­–ç•¥æ¨¡å¼å¯ä»¥æ ¹æ®æƒ…å†µåˆ‡æ¢ç®—æ³•æˆ–ç­–ç•¥ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œç­–ç•¥ï¼ˆstrategyï¼‰æ¨¡å¼ï¼ˆä¹Ÿç§°ä¸ºç­–ç•¥ï¼ˆpolicyï¼‰æ¨¡å¼ï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶é€‰æ‹©ç®—æ³•è¡Œä¸ºã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>é¦–å…ˆå¯¹æˆ‘ä»¬æµ‹ç­–ç•¥æ¥å£åšå‡ºä¸åŒå®ç°ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">SortStrategy</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sort</span><span class="params">(array $dataset)</span>: <span class="title">array</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BubbleSortStrategy</span> <span class="keyword">implements</span> <span class="title">SortStrategy</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sort</span><span class="params">(array $dataset)</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Sorting using bubble sort"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Do sorting</span></span><br><span class="line">        <span class="keyword">return</span> $dataset;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuickSortStrategy</span> <span class="keyword">implements</span> <span class="title">SortStrategy</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sort</span><span class="params">(array $dataset)</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Sorting using quick sort"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Do sorting</span></span><br><span class="line">        <span class="keyword">return</span> $dataset;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå®¢æˆ·å¯ä»¥ä½¿ç”¨ä»»æ„ç­–ç•¥</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sorter</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $sorter;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(SortStrategy $sorter)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;sorter = $sorter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sort</span><span class="params">(array $dataset)</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;sorter-&gt;sort($dataset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨æ³•</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$dataset = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">$sorter = <span class="keyword">new</span> Sorter(<span class="keyword">new</span> BubbleSortStrategy());</span><br><span class="line">$sorter-&gt;sort($dataset); <span class="comment">// Output : Sorting using bubble sort</span></span><br><span class="line"></span><br><span class="line">$sorter = <span class="keyword">new</span> Sorter(<span class="keyword">new</span> QuickSortStrategy());</span><br><span class="line">$sorter-&gt;sort($dataset); <span class="comment">// Output : Sorting using quick sort</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ’¢-çŠ¶æ€"><a href="#ğŸ’¢-çŠ¶æ€" class="headerlink" title="ğŸ’¢ çŠ¶æ€"></a>ğŸ’¢ çŠ¶æ€</h3><p>å®é™…ä¾‹å­</p>
<blockquote>
<p>å‡è®¾ä½ æ­£åœ¨ä½¿ç”¨æŸäº›ç»˜å›¾ç¨‹åºï¼Œç»˜ç”»æ—¶é€‰æ‹©ç”»ç¬”ã€‚ç°åœ¨ï¼Œç”»ç¬”å°†æ ¹æ®æ‰€é€‰é¢œè‰²æ›´æ”¹å…¶è¡Œä¸ºï¼Œå³å¦‚æœé€‰æ‹©çº¢è‰²ï¼Œå®ƒå°†ç»˜åˆ¶ä¸ºçº¢è‰²ï¼Œé€‰æ‹©è“è‰²ï¼Œåˆ™å°†ç»˜åˆ¶ä¸ºè“è‰²ç­‰ã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>å½“çŠ¶æ€æ”¹å˜æ—¶ï¼Œå®ƒå…è®¸ä½ æ”¹å˜ç±»çš„è¡Œä¸ºã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒä»¥é¢å‘å¯¹è±¡çš„æ–¹å¼å®ç°çŠ¶æ€æœºã€‚ä½¿ç”¨çŠ¶æ€æ¨¡å¼ï¼Œé€šè¿‡å°†æ¯ä¸ªå•ç‹¬çš„çŠ¶æ€å®ç°ä¸ºçŠ¶æ€æ¨¡å¼æ¥å£çš„æ´¾ç”Ÿç±»ï¼Œå¹¶é€šè¿‡è°ƒç”¨æ¨¡å¼çš„è¶…ç±»æ‰€å®šä¹‰çš„æ–¹æ³•æ¥å®ç°çŠ¶æ€è½¬æ¢ã€‚çŠ¶æ€æ¨¡å¼å¯ä»¥è§£é‡Šä¸ºç­–ç•¥æ¨¡å¼ï¼Œè¯¥æ¨¡å¼èƒ½å¤Ÿé€šè¿‡è°ƒç”¨æ¨¡å¼æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•æ¥åˆ‡æ¢å½“å‰ç­–ç•¥ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>å†ç”¨æ–‡æœ¬ç¼–è¾‘å™¨çš„ä¾‹å­ï¼Œå®ƒä½¿ä½ å¯ä»¥æ”¹å˜é”®å…¥æ–‡æœ¬çš„çŠ¶æ€ï¼Œé€‰æ‹©æ–œä½“ï¼Œå°†ä»¥æ–œä½“æ˜¾ç¤ºï¼›å¦‚æœé€‰æ‹©ç²—ä½“ï¼Œå°†ä»¥ç²—ä½“æ˜¾ç¤ºã€‚</p>
<p>é¦–å…ˆæ˜¯çŠ¶æ€æ¥å£åŠå…¶å®ç°ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">WritingState</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span><span class="params">(string $words)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UpperCase</span> <span class="keyword">implements</span> <span class="title">WritingState</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span><span class="params">(string $words)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> strtoupper($words);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LowerCase</span> <span class="keyword">implements</span> <span class="title">WritingState</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span><span class="params">(string $words)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> strtolower($words);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DefaultText</span> <span class="keyword">implements</span> <span class="title">WritingState</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span><span class="params">(string $words)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> $words;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€æ˜¯ç¼–è¾‘å™¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TextEditor</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(WritingState $state)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;state = $state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setState</span><span class="params">(WritingState $state)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;state = $state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">type</span><span class="params">(string $words)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;state-&gt;write($words);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$editor = <span class="keyword">new</span> TextEditor(<span class="keyword">new</span> DefaultText());</span><br><span class="line"></span><br><span class="line">$editor-&gt;type(<span class="string">'First line'</span>);</span><br><span class="line"></span><br><span class="line">$editor-&gt;setState(<span class="keyword">new</span> UpperCase());</span><br><span class="line"></span><br><span class="line">$editor-&gt;type(<span class="string">'Second line'</span>);</span><br><span class="line">$editor-&gt;type(<span class="string">'Third line'</span>);</span><br><span class="line"></span><br><span class="line">$editor-&gt;setState(<span class="keyword">new</span> LowerCase());</span><br><span class="line"></span><br><span class="line">$editor-&gt;type(<span class="string">'Fourth line'</span>);</span><br><span class="line">$editor-&gt;type(<span class="string">'Fifth line'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// First line</span></span><br><span class="line"><span class="comment">// SECOND LINE</span></span><br><span class="line"><span class="comment">// THIRD LINE</span></span><br><span class="line"><span class="comment">// fourth line</span></span><br><span class="line"><span class="comment">// fifth line</span></span><br></pre></td></tr></table></figure>
<h3 id="ğŸ“’-æ¨¡æ¿æ–¹æ³•"><a href="#ğŸ“’-æ¨¡æ¿æ–¹æ³•" class="headerlink" title="ğŸ“’ æ¨¡æ¿æ–¹æ³•"></a>ğŸ“’ æ¨¡æ¿æ–¹æ³•</h3><p>å®é™…ä¾‹å­</p>
<blockquote>
<p>å‡è®¾æˆ‘ä»¬è¦é€ æˆ¿å­ï¼Œæ„å»ºæ­¥éª¤å¯èƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ‰“åœ°åŸº</li>
<li>ç Œå¢™</li>
<li>åŠ å±‹é¡¶</li>
<li>æ·»åŠ å…¶ä»–æ¥¼å±‚</li>
</ul>
<p>è¿™äº›æ­¥éª¤çš„é¡ºåºæ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œå³ä½ ä¸å¯ä»¥åœ¨ç Œå¢™ä¹‹å‰ç›–å±‹é¡¶ï¼Œä½†æ˜¯æ¯ä¸ªæ­¥éª¤å¯ä»¥ä¿®æ”¹ï¼Œä¾‹å¦‚å¢™å£å¯ä»¥ç”±æœ¨å¤´ã€èšé…¯æˆ–çŸ³å¤´åˆ¶æˆã€‚</p>
</blockquote>
<p>ç®€è€Œè¨€ä¹‹</p>
<blockquote>
<p>æ¨¡æ¿æ–¹æ³•å®šä¹‰äº†å¦‚ä½•æ‰§è¡ŒæŸç§ç®—æ³•çš„æ¡†æ¶ï¼Œä½†æ˜¯å°†è¿™äº›æ­¥éª¤çš„å®ç°äº¤ç»™å­—ç±»ã€‚</p>
</blockquote>
<p>ç»´åŸºè¯´</p>
<blockquote>
<p>è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œç”¨äºå®šä¹‰æ“ä½œä¸­ç®—æ³•çš„ç¨‹åºæ¡†æ¶ï¼Œä»è€Œå°†æŸäº›æ­¥éª¤æ¨è¿Ÿåˆ°å­ç±»ä¸­ã€‚</p>
</blockquote>
<p><strong>ç¨‹åºç¤ºä¾‹</strong></p>
<p>è®¾æƒ³æˆ‘ä»¬æœ‰ä¸€ä¸ªæ„å»ºå·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬æµ‹è¯•ã€æ•´ç†ã€æ„å»ºï¼Œç”ŸæˆæŠ¥å‘Šï¼ˆå³è¦†ç›–ç‡æŠ¥å‘Šï¼Œlint æŠ¥å‘Šç­‰ï¼‰å¹¶ä¸”å°†æˆ‘ä»¬çš„ç¨‹åºéƒ¨ç½²åœ¨æµ‹è¯•æœåŠ¡å™¨ä¸Šã€‚</p>
<p>é¦–å…ˆï¼Œæ­å»ºåŸºç±»ï¼Œå®ƒæŒ‡å®šæ„å»ºç®—æ³•çš„æ¡†æ¶ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Builder</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// Template method</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">build</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;test();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;lint();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assemble();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;deploy();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">lint</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">assemble</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">deploy</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°æ¥å£</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AndroidBuilder</span> <span class="keyword">extends</span> <span class="title">Builder</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Running android tests'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">lint</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Linting the android code'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">assemble</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Assembling the android build'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">deploy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Deploying android build to server'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IosBuilder</span> <span class="keyword">extends</span> <span class="title">Builder</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Running ios tests'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">lint</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Linting the ios code'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">assemble</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Assembling the ios build'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">deploy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Deploying ios build to server'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”¨æ³•</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$androidBuilder = <span class="keyword">new</span> AndroidBuilder();</span><br><span class="line">$androidBuilder-&gt;build();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// Running android tests</span></span><br><span class="line"><span class="comment">// Linting the android code</span></span><br><span class="line"><span class="comment">// Assembling the android build</span></span><br><span class="line"><span class="comment">// Deploying android build to server</span></span><br><span class="line"></span><br><span class="line">$iosBuilder = <span class="keyword">new</span> IosBuilder();</span><br><span class="line">$iosBuilder-&gt;build();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// Running ios tests</span></span><br><span class="line"><span class="comment">// Linting the ios code</span></span><br><span class="line"><span class="comment">// Assembling the ios build</span></span><br><span class="line"><span class="comment">// Deploying ios build to server</span></span><br></pre></td></tr></table></figure>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>åˆ°æ­¤ä¸ºæ­¢ã€‚æˆ‘å°†ç»§ç»­å¯¹æ­¤è¿›è¡Œæ”¹è¿›ï¼Œä½ å¯ä»¥ watch/star è¿™ä¸ª<a href="https://github.com/kamranahmedse/developer-roadmap/" target="_blank" rel="noopener">ä»“åº“</a>ã€‚ä¹‹åè®¡åˆ’ç¼–å†™æœ‰å…³æ¶æ„æ¨¡å¼çš„æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/translation/" rel="tag"># translation</a>
              <a href="/tags/design-pattern/" rel="tag"># design pattern</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/20/trial-and-error/" rel="prev" title="ä½¿ç”¨â€œè¯•é”™æ³•â€è§£å†³é—®é¢˜ï¼ˆè¯‘ï¼‰">
      <i class="fa fa-chevron-left"></i> ä½¿ç”¨â€œè¯•é”™æ³•â€è§£å†³é—®é¢˜ï¼ˆè¯‘ï¼‰
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/27/Share-Memory-By-Communicating/" rel="next" title="é€šè¿‡é€šä¿¡å…±äº«å†…å­˜ï¼ˆè¯‘ï¼‰">
      é€šè¿‡é€šä¿¡å…±äº«å†…å­˜ï¼ˆè¯‘ï¼‰ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC8zODE1OC8xNDY4OA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#å°å¿ƒ"><span class="nav-number">1.</span> <span class="nav-text">å°å¿ƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è®¾è®¡æ¨¡å¼çš„ç±»å‹"><span class="nav-number">2.</span> <span class="nav-text">è®¾è®¡æ¨¡å¼çš„ç±»å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åˆ›å»ºå‹æ¨¡å¼"><span class="nav-number">3.</span> <span class="nav-text">åˆ›å»ºå‹æ¨¡å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ -ç®€å•å·¥å‚"><span class="nav-number">3.1.</span> <span class="nav-text">ğŸ  ç®€å•å·¥å‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ­-å·¥å‚æ–¹æ³•"><span class="nav-number">3.2.</span> <span class="nav-text">ğŸ­ å·¥å‚æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ”¨-æŠ½è±¡å·¥å‚"><span class="nav-number">3.3.</span> <span class="nav-text">ğŸ”¨ æŠ½è±¡å·¥å‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ‘·-ç”Ÿæˆå™¨"><span class="nav-number">3.4.</span> <span class="nav-text">ğŸ‘· ç”Ÿæˆå™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ‘-åŸå‹"><span class="nav-number">3.5.</span> <span class="nav-text">ğŸ‘ åŸå‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ’-å•ä¾‹"><span class="nav-number">3.6.</span> <span class="nav-text">ğŸ’ å•ä¾‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»“æ„å‹æ¨¡å¼"><span class="nav-number">4.</span> <span class="nav-text">ç»“æ„å‹æ¨¡å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ”Œ-é€‚é…å™¨"><span class="nav-number">4.1.</span> <span class="nav-text">ğŸ”Œ é€‚é…å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸš¡-æ¡¥æ¥"><span class="nav-number">4.2.</span> <span class="nav-text">ğŸš¡ æ¡¥æ¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸŒ¿-ç»„åˆ"><span class="nav-number">4.3.</span> <span class="nav-text">ğŸŒ¿ ç»„åˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#â˜•-è£…é¥°å™¨"><span class="nav-number">4.4.</span> <span class="nav-text">â˜• è£…é¥°å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ“¦-å¤–è§‚æ¨¡å¼"><span class="nav-number">4.5.</span> <span class="nav-text">ğŸ“¦ å¤–è§‚æ¨¡å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸƒ-äº«å…ƒ"><span class="nav-number">4.6.</span> <span class="nav-text">ğŸƒ äº«å…ƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ±-ä»£ç†"><span class="nav-number">4.7.</span> <span class="nav-text">ğŸ± ä»£ç†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¡Œä¸ºå‹æ¨¡å¼"><span class="nav-number">5.</span> <span class="nav-text">è¡Œä¸ºå‹æ¨¡å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ”—-è´£ä»»é“¾"><span class="nav-number">5.1.</span> <span class="nav-text">ğŸ”— è´£ä»»é“¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ‘®-å‘½ä»¤"><span class="nav-number">5.2.</span> <span class="nav-text">ğŸ‘® å‘½ä»¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#â¿-è¿­ä»£å™¨"><span class="nav-number">5.3.</span> <span class="nav-text">â¿ è¿­ä»£å™¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ‘½-è°ƒè§£å‘˜"><span class="nav-number">5.4.</span> <span class="nav-text">ğŸ‘½ è°ƒè§£å‘˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ’¾-å¤‡å¿˜å½•"><span class="nav-number">5.5.</span> <span class="nav-text">ğŸ’¾ å¤‡å¿˜å½•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ˜-è§‚å¯Ÿè€…"><span class="nav-number">5.6.</span> <span class="nav-text">ğŸ˜ è§‚å¯Ÿè€…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸƒ-è®¿é—®è€…"><span class="nav-number">5.7.</span> <span class="nav-text">ğŸƒ è®¿é—®è€…</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ’¡-ç­–ç•¥"><span class="nav-number">5.8.</span> <span class="nav-text">ğŸ’¡ ç­–ç•¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ’¢-çŠ¶æ€"><span class="nav-number">5.9.</span> <span class="nav-text">ğŸ’¢ çŠ¶æ€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ğŸ“’-æ¨¡æ¿æ–¹æ³•"><span class="nav-number">5.10.</span> <span class="nav-text">ğŸ“’ æ¨¡æ¿æ–¹æ³•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æœ€å"><span class="nav-number">6.</span> <span class="nav-text">æœ€å</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="sko00o"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">sko00o</p>
  <div class="site-description" itemprop="description">Nothing or Anything</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">54</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/sko00o" title="GitHub â†’ https://github.com/sko00o" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lwylwy@outlook.com" title="E-Mail â†’ mailto:lwylwy@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2015 â€“ 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sko00o</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>




  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-firestore.js"></script>
  <script>
    firebase.initializeApp({
      apiKey: 'AIzaSyAh5G6EjuxSOyExsKAcgFnc6AMLOn75q44',
      projectId: 'myblog-1520f'
    });

    function getCount(doc, increaseCount) {
      // IncreaseCount will be false when not in article page
      return doc.get().then(d => {
        var count = 0;
        if (!d.exists) { // Has no data, initialize count
          if (increaseCount) {
            doc.set({
              count: 1
            });
            count = 1;
          }
        } else { // Has data
          count = d.data().count;
          if (increaseCount) {
            // If first view this article
            doc.set({ // Increase count
              count: count + 1
            });
            count++;
          }
        }

        return count;
      });
    }

    function appendCountTo(el) {
      return count => {
        el.innerText = count;
      }
    }
  </script>
  <script>
    (function() {
      var db = firebase.firestore();
      var articles = db.collection('articles');

      if (CONFIG.page.isPost) { // Is article page
        var title = document.querySelector('.post-title').innerText.trim();
        var doc = articles.doc(title);
        var increaseCount = CONFIG.hostname === location.hostname;
        if (localStorage.getItem(title)) {
          increaseCount = false;
        } else {
          // Mark as visited
          localStorage.setItem(title, true);
        }
        getCount(doc, increaseCount).then(appendCountTo(document.querySelector('.firestore-visitors-count')));
      } else if (CONFIG.page.isHome) { // Is index page
        var promises = [...document.querySelectorAll('.post-title')].map(element => {
          var title = element.innerText.trim();
          var doc = articles.doc(title);
          return getCount(doc);
        });
        Promise.all(promises).then(counts => {
          var metas = document.querySelectorAll('.firestore-visitors-count');
          counts.forEach((val, idx) => {
            appendCountTo(metas[idx])(val);
          });
        });
      }
    })();
  </script>




      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  <script src="/js/local-search.js"></script>












  

  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

</body>
</html>
